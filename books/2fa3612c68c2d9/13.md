---
title: "ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œæˆ"
---

# ã“ã®ç« ã«å¯¾å¿œã™ã‚‹ã‚³ãƒŸãƒƒãƒˆ

* [ğŸ“ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œæˆ](https://github.com/ttskch/symfony-example-app/commit/ae79687b0483d31913928fb5b6be42795e3dfc4d)

> ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã¯æ—¥æœ¬èªã¨è‹±èªã«å¯¾å¿œã™ã‚‹ãŸã‚ã™ã¹ã¦ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã‚’ç¿»è¨³ã—ã¦ã„ã‚‹ã®ã§ã€ã‚³ãƒŸãƒƒãƒˆã®å†…å®¹ã¯æœ¬æ–‡ã®è§£èª¬ã¨è‹¥å¹²ç•°ãªã‚Šã¾ã™ã€‚

# ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œæˆ

ã™ã§ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘¨ã‚Šã®æ©Ÿèƒ½ã‚’ä¸€é€šã‚Šä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ãã¾ã—ãŸãŒã€ã“ã“ã‹ã‚‰å…ˆã®æµã‚Œã¯åŸºæœ¬çš„ã«ãã‚Œã¨åŒã˜ã§ã™ã€‚

**ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œã£ã¦ã€CRUDã‚’ä½œã£ã¦ã€æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã€ã¨ã„ã†ã®ãŒåŸºæœ¬ã®æµã‚Œã«ãªã‚Šã¾ã™ã€‚**

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ãã‚Œä»¥å¤–ã®ä¸€èˆ¬çš„ãªãƒ‡ãƒ¼ã‚¿ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã§ã¯è‹¥å¹²è¦ä»¶ãŒç•°ãªã‚‹ã¨ã“ã‚ã‚‚ã‚ã‚‹ã®ã§ã€ã“ã“ã‹ã‚‰æ”¹ã‚ã¦ã€ä¸€èˆ¬çš„ãªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ã¤ã„ã¦ã®é–‹ç™ºã®æµã‚Œã‚’èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

ã¾ãšã¯ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä½œæˆã§ã™ã€‚

## `make:entity` ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ä½œæˆã™ã‚‹

ã“ã“ã§ã¯ã¾ãš `é¡§å®¢` ï¼ˆ`Customer`ï¼‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œã‚‹ã¨ãã¯ã€ `make:entity` ã‚³ãƒãƒ³ãƒ‰ã‚’æ´»ç”¨ã™ã‚‹ã¨æ¥½ã§ã™ã€‚

Doctrine ORMã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®æ›¸ãæ–¹ã¨ã‹ã€æ­£ç›´åƒ•ã¯ã‚ã‚“ã¾ã‚Šè¦šãˆã¦ãªãã¦ã€ `make:entity` ã§è‡ªå‹•ã§è¨˜è¼‰ã—ã¦ãã‚Œã‚‹ã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚³ãƒ”ãƒšï¼†ä¿®æ­£ã§é–‹ç™ºã—ã¦ã„ã¾ã™ã€‚


```bash
$ bin/console make:entity Customer

 created: src/Entity/Customer.php
 created: src/Repository/CustomerRepository.php

 Entity generated! Now let's add some fields!
 You can always add more fields later manually or by re-running this command.

 New property name (press <return> to stop adding fields):
 > state

 Field type (enter ? to see all types) [string]:
 > 

 Field length [255]:
 >

 Can this field be null in the database (nullable) (yes/no) [no]:
 > 

 updated: src/Entity/Customer.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > name

 Field type (enter ? to see all types) [string]:
 >

 Field length [255]:
 >

 Can this field be null in the database (nullable) (yes/no) [no]:
 >

 updated: src/Entity/Customer.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 >

  Success!

 Next: When you're ready, create a migration with php bin/console make:migration
```

ã“ã‚“ãªæ„Ÿã˜ã§ã€ `bin/console make:entity {ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹å}` ã‚’å®Ÿè¡Œã—ã¦ã€ã‚ã¨ã¯å¯¾è©±å¼ã§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚„å‹ãªã©ã‚’å…¥åŠ›ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®ã¾ã¾ã§ã‚ˆã‘ã‚Œã°ä½•ã‚‚å…¥åŠ›ã›ãšEnterï¼‰ã—ã¦ã„ãã ã‘ã§OKã§ã™ã€‚ä¾¿åˆ©ã§ã™ã­ï¼

ã“ã†ã—ã¦è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã¨ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ©ã‚¹ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«è»½ãæ•´å½¢ã—ã¦ã€å¿…è¦ã«å¿œã˜ã¦ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚Œã°ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯å®Œæˆã§ã™ã€‚

```diff
  <?php
  
+ declare(strict_types=1);
+ 
  namespace App\Entity;
  
  use App\Repository\CustomerRepository;
  use Doctrine\ORM\Mapping as ORM;
+ use Gedmo\Timestampable\Traits\TimestampableEntity;
+ use Symfony\Component\Validator\Constraints as Assert;
  
  /**
   * @ORM\Entity(repositoryClass=CustomerRepository::class)
   */
  class Customer
  {
+     use TimestampableEntity;
+ 
      /**
       * @ORM\Id
       * @ORM\GeneratedValue
       * @ORM\Column(type="integer")
       */
      private $id;
  
      /**
       * @ORM\Column(type="string", length=255)
+      *
+      * @Assert\NotBlank()
       */
-     private $state;
+     public ?string $state = null;
 
      /**
       * @ORM\Column(type="string", length=255)
+      *
+      * @Assert\NotBlank()
       */
-     private $name;
+     public ?string $name = null;
  
      public function getId(): ?int
      {
          return $this->id;
      }
- 
-     public function getState(): ?string
-     {
-         return $this->state;
-     }
- 
-     public function setState(string $state): self
-     {
-         $this->state = $state;
- 
-         return $this;
-     }
- 
-     public function getName(): ?string
-     {
-         return $this->name;
-     }
- 
-     public function setName(string $name): self
-     {
-         $this->name = $name;
- 
-         return $this;
-     }
+ 
+     public function __toString(): string
+     {
+         return $this->name;
+     }
+ 
  }
```

```diff
  <?php
  
+ declare(strict_types=1);
+ 
  namespace App\Repository;
  
  use App\Entity\Customer;
  use Doctrine\Bundle\DoctrineBundle\Repository\ServiceEntityRepository;
  use Doctrine\Persistence\ManagerRegistry;
  
  /**
   * @method Customer|null find($id, $lockMode = null, $lockVersion = null)
   * @method Customer|null findOneBy(array $criteria, array $orderBy = null)
   * @method Customer[]    findAll()
   * @method Customer[]    findBy(array $criteria, array $orderBy = null, $limit = null, $offset = null)
   */
  class CustomerRepository extends ServiceEntityRepository
  {
      public function __construct(ManagerRegistry $registry)
      {
          parent::__construct($registry, Customer::class);
      }
- 
-     // /**
-     //  * @return Customer[] Returns an array of Customer objects
-     //  */
-     /*
-     public function findByExampleField($value)
-     {
-         return $this->createQueryBuilder('c')
-             ->andWhere('c.exampleField = :val')
-             ->setParameter('val', $value)
-             ->orderBy('c.id', 'ASC')
-             ->setMaxResults(10)
-             ->getQuery()
-             ->getResult()
-         ;
-     }
-     */
- 
-     /*
-     public function findOneBySomeField($value): ?Customer
-     {
-         return $this->createQueryBuilder('c')
-             ->andWhere('c.exampleField = :val')
-             ->setParameter('val', $value)
-             ->getQuery()
-             ->getOneOrNullResult()
-         ;
-     }
-     */
  }
```

## å­ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œã£ã¦ã¿ã‚‹

æ¬¡ã«ã€ `é¡§å®¢`ï¼ˆ`Customer`ï¼‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ã¿ã«OneToManyã§å±ã™ã‚‹ `æ‹…å½“è€…`ï¼ˆ`Person`ï¼‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚

å…ˆã»ã©ã¨åŒæ§˜ã« `make:entity` ã‚³ãƒãƒ³ãƒ‰ã‚’æ´»ç”¨ã—ã¾ã™ã€‚

```bash
$ bin/console make:entity Customer\\Person

 created: src/Entity/Customer/Person.php
 created: src/Repository/Customer/PersonRepository.php

 Entity generated! Now let's add some fields!
 You can always add more fields later manually or by re-running this command.

 New property name (press <return> to stop adding fields):
 > customer

 Field type (enter ? to see all types) [string]:
 > relation

 What class should this entity be related to?:
 > Customer

What type of relationship is this?
 ------------ ----------------------------------------------------------------------
  Type         Description
 ------------ ----------------------------------------------------------------------
  ManyToOne    Each Person relates to (has) one Customer.
               Each Customer can relate to (can have) many Person objects

  OneToMany    Each Person can relate to (can have) many Customer objects.
               Each Customer relates to (has) one Person

  ManyToMany   Each Person can relate to (can have) many Customer objects.
               Each Customer can also relate to (can also have) many Person objects

  OneToOne     Each Person relates to (has) exactly one Customer.
               Each Customer also relates to (has) exactly one Person.
 ------------ ----------------------------------------------------------------------

 Relation type? [ManyToOne, OneToMany, ManyToMany, OneToOne]:
 > ManyToOne

 Is the Person.customer property allowed to be null (nullable)? (yes/no) [yes]:
 > no

 Do you want to add a new property to Customer so that you can access/update Person objects from it - e.g. $customer->getPeople()? (yes/no) [yes]:
 >

 A new property will also be added to the Customer class so that you can access the related Person objects from it.

 New field name inside Customer [people]:
 >

 Do you want to activate orphanRemoval on your relationship?
 A Person is "orphaned" when it is removed from its related Customer.
 e.g. $customer->removePerson($person)

 NOTE: If a Person may *change* from one Customer to another, answer "no".

 Do you want to automatically delete orphaned App\Entity\Customer\Person objects (orphanRemoval)? (yes/no) [no]:
 > yes

 updated: src/Entity/Customer/Person.php
 updated: src/Entity/Customer.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > fullName

 Field type (enter ? to see all types) [string]:
 >

 Field length [255]:
 >

 Can this field be null in the database (nullable) (yes/no) [no]:
 >

 updated: src/Entity/Customer/Person.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > email

 Field type (enter ? to see all types) [string]:
 >

 Field length [255]:
 >

 Can this field be null in the database (nullable) (yes/no) [no]:
 > yes

 updated: src/Entity/Customer/Person.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > tel

 Field type (enter ? to see all types) [string]:
 >

 Field length [255]:
 >

 Can this field be null in the database (nullable) (yes/no) [no]:
 > yes

 updated: src/Entity/Customer/Person.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 > address

 Field type (enter ? to see all types) [string]:
 > text

 Can this field be null in the database (nullable) (yes/no) [no]:
 > yes

 updated: src/Entity/Customer/Person.php

 Add another property? Enter the property name (or press <return> to stop adding fields):
 >

  Success!

 Next: When you're ready, create a migration with php bin/console make:migration
```

ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯

1. `bin/console make:entity Customer\\Person` ã‚’å®Ÿè¡Œï¼ˆ`bin/console make:entity` ã‚’å®Ÿè¡Œã—ãŸã‚ã¨ `Customer\Person` ã‚’å…¥åŠ›ã™ã‚‹ã®ã¨åŒã˜ï¼‰
2. `customer` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ `relation` å‹ã§ `ManyToOne` ã‚’æŒ‡å®šã—ã¦ä½œæˆ
3. `fullName` `email` `tel` `address` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é€šå¸¸ã®ã‚«ãƒ©ãƒ ã¨ã—ã¦ä½œæˆ

ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚

ã“ã†ã—ã¦è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸ `Person` ã¨ `PersonRepository` ã‚‚ã€å¤šå°‘æ•´å½¢ã—ã¦ä¸è¦ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¦ãŠãã¾ã™ã€‚ `Person` ã®ä¸­èº«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```php
<?php

declare(strict_types=1);

namespace App\Entity\Customer;

use App\Entity\Customer;
use App\Repository\Customer\PersonRepository;
use Doctrine\ORM\Mapping as ORM;
use Gedmo\Timestampable\Traits\TimestampableEntity;
use Symfony\Component\Validator\Constraints as Assert;

/**
 * @ORM\Entity(repositoryClass=PersonRepository::class)
 */
class Person
{
    use TimestampableEntity;

    /**
     * @ORM\Id
     * @ORM\GeneratedValue
     * @ORM\Column(type="integer")
     */
    private $id;

    /**
     * @ORM\ManyToOne(targetEntity=Customer::class, inversedBy="people")
     * @ORM\JoinColumn(nullable=false)
     */
    public ?Customer $customer = null;

    /**
     * @ORM\Column(type="string", length=255)
     *
     * @Assert\NotBlank()
     */
    public ?string $fullName = null;

    /**
     * @ORM\Column(type="string", length=255, nullable=true)
     *
     * @Assert\Email()
     */
    public ?string $email = null;

    /**
     * @ORM\Column(type="string", length=255, nullable=true)
     */
    public ?string $tel = null;

    /**
     * @ORM\Column(type="text", nullable=true)
     */
    public ?string $address = null;

    public function getId(): ?int
    {
        return $this->id;
    }
}
```

ã¾ãŸã€`make:entity` ã§ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ãŸ `Customer` ã®ã»ã†ã«ã‚‚è‡ªå‹•ã§ä¿®æ­£ãŒåŠ ã‚ã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‚ä»¥ä¸‹ã®ã‚ˆã†ã«å°‘ã—ã ã‘æ‰‹ç›´ã—ã—ã¾ã™ã€‚

```diff
  /**
   * @ORM\Entity(repositoryClass=CustomerRepository::class)
   */
  class Customer
  {
      use TimestampableEntity;
  
      /**
       * @ORM\Id
       * @ORM\GeneratedValue
       * @ORM\Column(type="integer")
       */
      private $id;
  
      /**
       * @ORM\Column(type="string", length=255)
       *
       * @Assert\NotBlank()
       */
      public ?string $state = null;
  
      /**
       * @ORM\Column(type="string", length=255)
       *
       * @Assert\NotBlank()
       */
      public ?string $name = null;
  
      /**
+      * @var Collection|Person[]
+      *
-      * @ORM\OneToMany(targetEntity=Person::class, mappedBy="customer", orphanRemoval=true)
+      * @ORM\OneToMany(targetEntity=Person::class, mappedBy="customer", cascade={"persist", "remove"}, orphanRemoval=true)
+      *
+      * @Assert\Valid()
       */
-     private $people;
+     public Collection $people;
  
      public function __construct()
      {
          $this->people = new ArrayCollection();
      }
  
      public function getId(): ?int
      {
          return $this->id;
      }
  
-     /**
-      * @return Collection|Person[]
-      */
-     public function getPeople(): Collection
-     {
-         return $this->people;
-     }
- 
      public function addPerson(Person $person): self
      {
          if (!$this->people->contains($person)) {
              $this->people[] = $person;
-             $person->setCustomer($this);
+             $person->customer = $this;
          }
  
          return $this;
      }
  
      public function removePerson(Person $person): self
      {
          if ($this->people->removeElement($person)) {
-             // set the owning side to null (unless already changed)
-             if ($person->getCustomer() === $this) {
+             if ($person->customer === $this) {
-                 $person->setCustomer(null);
+                 $person->customer = null;
              }
          }
  
          return $this;
      }
  
      public function __toString(): string
      {
          return $this->name;
      }
  }
```

## ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å›ºæœ‰ã®å®šæ•°ã‚’åˆ¥ã‚¯ãƒ©ã‚¹ã«å®šç¾©ã™ã‚‹

ã“ã“ã§ã€`Customer` ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã® `$state` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯é¡§å®¢ã®çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€é¡§å®¢ã®çŠ¶æ…‹ã¯ãƒ•ãƒªãƒ¼ãƒ†ã‚­ã‚¹ãƒˆã§ã¯ãªã

* `æœªå¯¾å¿œ`
* `å¯¾å¿œä¸­`
* `å—æ³¨`
* `å¤±æ³¨`

ã®ã†ã¡ã®ã„ãšã‚Œã‹ã®æ–‡å­—åˆ—ã«åˆ¶é™ã—ãŸã„ã¨ã—ã¾ã—ã‚‡ã†ã€‚

ã“ã®ã‚ˆã†ã«ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é¸æŠå¼ã«ã—ãŸã„ï¼ˆç‰¹å®šã®é¸æŠè‚¢ã®ã†ã¡ã®ã„ãšã‚Œã‹ã®æ–‡å­—åˆ—ã ã‘ã—ã‹å…¥ã‚‰ãªã„ã‚ˆã†ã«ã—ãŸã„ï¼‰ã¨ã„ã†è¦ä»¶ã¯ã¨ã¦ã‚‚ä¸€èˆ¬çš„ã§ã™ã€‚

ã“ã†ã„ã†å ´åˆã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¯ãƒ©ã‚¹å†…ã«å®šæ•°ã®å®šç¾©ã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ã€é¸æŠå¼ã®é …ç›®ãŒå¤šã„ã»ã©ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ã‚³ãƒ¼ãƒ‰ãŒå®šæ•°ã¾ã¿ã‚Œã«ãªã£ã¦ã„ã£ã¦ã—ã¾ã†ã®ã§ã€ã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ã‚’ä¿ã¤ãŸã‚ã«ã€å®šæ•°å®šç¾©ã ã‘ã‚’åˆ¥ã‚¯ãƒ©ã‚¹ã«åˆ†ã‘ã¦ãŠãã®ãŒãŠã™ã™ã‚ã§ã™ğŸ‘Œ

ä»Šå›ã®ä¾‹ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

```php
// src/EntityConstant/CustomerConstant.php

namespace App\EntityConstant;

final class CustomerConstant
{
    const STATE_INITIAL = 'æœªå¯¾å¿œ';
    const STATE_WIP = 'å¯¾å¿œä¸­';
    const STATE_COMPLETE = 'å—æ³¨';
    const STATE_FAILED = 'å¤±æ³¨';

    public static function getValidStates(): array
    {
        return [
            self::STATE_INITIAL,
            self::STATE_WIP,
            self::STATE_COMPLETE,
            self::STATE_FAILED,
        ];
    }
}
```

ã“ã®ä¸Šã§ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¯ [Choiceåˆ¶ç´„ã® `callback` ã‚ªãƒ—ã‚·ãƒ§ãƒ³](https://symfony.com/doc/current/reference/constraints/Choice.html#supplying-the-choices-with-a-callback-function) ã‚’ä½¿ã£ã¦é¸æŠè‚¢ä»¥å¤–ã®å€¤ã‚’ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã‚¨ãƒ©ãƒ¼ã«ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚

```diff
  /**
   * @ORM\Column(type="string", length=255)
   *
   * @Assert\NotBlank()
+  * @Assert\Choice(callback={CustomerConstant::class, "getValidStates"})
   */
  public ?string $state = null;
```

ã“ã‚Œã§ã€ `$state` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é¸æŠå¼ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸğŸ‘

ã¡ãªã¿ã«ã€[DoctrineEnumBundle](https://github.com/fre5h/DoctrineEnumBundle) ã¨ã„ã†ãƒãƒ³ãƒ‰ãƒ«ã‚’ä½¿ã†ã¨ã€[DBAL Typeã¨ã—ã¦ç‹¬è‡ªã®Enumå‹ã‚’å®šç¾©ã™ã‚‹](https://github.com/fre5h/DoctrineEnumBundle/blob/master/Resources/docs/example_of_using.md) ã“ã¨ã§ã“ã‚Œã¨åŒæ§˜ã®çµæœã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãŒã€å®Ÿè³ªçš„ã«ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯ä¸Šè¨˜ã¨ã¾ã£ãŸãåŒã˜ãªã®ã§ã€ã‚ãˆã¦ã“ã®ãƒãƒ³ãƒ‰ãƒ«ã«ä¾å­˜ã™ã‚‹å¿…ç„¶æ€§ã¯ã‚ã¾ã‚Šãªã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚

## ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

ã•ã¦ã€ã²ã¨ã¾ãš `Customer` ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ `Customer\Person` ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒå‡ºæ¥ä¸ŠãŒã£ãŸã®ã§ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ã€ï¼ˆã¡ã‚ƒã‚“ã¨å†…å®¹ã‚’ç¢ºèªã—ãŸä¸Šã§ï¼‰ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

```bash
$ bin/console doctrine:migrations:diff
$ bin/console doctrine:migrations:migrate
```
