---
title: "åŸºç¤ç·¨"
---

# 1. ãƒ“ãƒ¥ãƒ¼ã‚’è‰²ã€…ã„ã˜ã£ã¦ã¿ã‚‹

Angularã®å‹•ä½œåŸç†ã‚’å¤§ã¾ã‹ã«ç†è§£ã§ããŸã¨ã“ã‚ã§ã€å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‰ã‚’è§¦ã£ã¦ã„ãã¾ã™ã€‚

ã¾ãšã¯ãƒ“ãƒ¥ãƒ¼ï¼ˆHTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰ã®åŸºæœ¬æ©Ÿèƒ½ã‚’ä½“é¨“ã™ã‚‹ãŸã‚ã«ã€ `AppComponent` ã®ãƒ“ãƒ¥ãƒ¼ã‚’è‰²ã€…ã„ã˜ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## `Hello, World!` ã—ã¦ã¿ã‚‹

`AppComponent` ã®ãƒ“ãƒ¥ãƒ¼ã¯ `src/app/app.component.html` ã«æ›¸ã‹ã‚Œã¦ã„ã¾ã—ãŸã­ã€‚ã¾ãšã¯ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’ `Hello, World!` ã¨è¡¨ç¤ºã™ã‚‹ã ã‘ã®å†…å®¹ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```html
<p>Hello, World!</p>
```

ä¿å­˜ã™ã‚‹ã¨ç”»é¢ãŒè‡ªå‹•ã§ãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦

```
Hello, World!
```

ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã­ã€‚

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤‰æ•°ã‚’ãƒ“ãƒ¥ãƒ¼ã«è¡¨ç¤ºã—ã¦ã¿ã‚‹

ã§ã¯æ¬¡ã«ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ¬ä½“ãŒæŒã£ã¦ã„ã‚‹å¤‰æ•°ã®å€¤ã‚’ãƒ“ãƒ¥ãƒ¼ã«è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

`src/app/app.component.ts` ã¨ `src/app/app.component.html` ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚

```diff
- title = 'angular-todo';
+ tasks = [
+   {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false},
+   {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true},
+   {title: 'éŠ€è¡Œã«è¡Œã', done: false},
+ ];
```

```diff
- <p>Hello, World!</p>
+ <ul>
+   <li>{{ tasks[0].title }} <span>{{ tasks[0].done }}</span></li>
+   <li>{{ tasks[1].title }} <span>{{ tasks[1].done }}</span></li>
+   <li>{{ tasks[2].title }} <span>{{ tasks[2].done }}</span></li>
+ </ul>
```

`{{ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¯ãƒ©ã‚¹å¤‰æ•° }}` ã§å¤‰æ•°ã®å€¤ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

> ã¡ãªã¿ã«ã€HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰åˆ©ç”¨ã§ãã‚‹ã‚¯ãƒ©ã‚¹å¤‰æ•°ã¯ `public` ãªã‚‚ã®ã«é™ã‚‰ã‚Œã¾ã™ã€‚ï¼ˆã‚¢ã‚¯ã‚»ã‚¹ä¿®é£¾å­ã‚’æ›¸ã‹ãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ `public` ã«ãªã‚Šã¾ã™ï¼‰

ã“ã‚Œã§ã€ç”»é¢ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚

```
ç‰›ä¹³ã‚’è²·ã† false
å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™ true
éŠ€è¡Œã«è¡Œã false
```

## `*ngFor` ã«ã‚ˆã‚‹ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’ä½¿ã£ã¦ã¿ã‚‹

ã•ã¦ã€ã“ã®ã¾ã¾ã ã¨ãƒ“ãƒ¥ãƒ¼ã®è¨˜è¿°ãŒã‚¿ã‚¹ã‚¯ã®å€‹æ•°ã«ä¾å­˜ã—ã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã§ã€ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã«å¤‰ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

Angularã®HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’ã™ã‚‹ã«ã¯ã€ [`*ngFor`](https://angular.io/api/common/NgForOf) ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆãƒ“ãƒ¥ãƒ¼ã§åˆ©ç”¨ã§ãã‚‹å‘½ä»¤ã®ä¸€ç¨®ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```diff
  <ul>
-   <li>{{ tasks[0].title }} <span>{{ tasks[0].done }}</span></li>
-   <li>{{ tasks[1].title }} <span>{{ tasks[1].done }}</span></li>
-   <li>{{ tasks[2].title }} <span>{{ tasks[2].done }}</span></li>
+   <li *ngFor="let task of tasks">{{ task.title }} <span>{{ task.done }}</span></li>
  </ul>
```

ç¹°ã‚Šè¿”ã—å‡ºåŠ›ã—ãŸã„DOMè¦ç´ ã« `*ngFor="let è¦ç´ ã®å¤‰æ•°å of é…åˆ—ã®å¤‰æ•°å"` ã¨æ›¸ãã“ã¨ã§ã€ãã®DOMè¦ç´ ã®å†…å´ã§ `è¦ç´ ã®å¤‰æ•°å` ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã¦ã€ç”»é¢ã®è¡¨ç¤ºãŒå…ˆã»ã©ã¨å¤‰ã‚ã£ã¦ã„ãªã‘ã‚Œã°OKã§ã™ğŸ‘Œ

## `*ngIf` ã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²ã‚’ä½¿ã£ã¦ã¿ã‚‹

ã•ã¦ã€ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’ä½¿ã£ãŸã®ã§æ¬¡ã¯æ¡ä»¶åˆ†å²ã‚’ä½¿ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚æ¡ä»¶åˆ†å²ã«ã¯ [`*ngIf`](https://angular.io/api/common/NgIf) ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’ä½¿ã„ã¾ã™ã€‚

ã‚¿ã‚¹ã‚¯ãŒå®Œäº†æ¸ˆã¿ã‹ã©ã†ã‹ã® `true` `false` ã‚’ãã®ã¾ã¾è¡¨ç¤ºã™ã‚‹ã®ã§ã¯ãªãã€å®Œäº†æ¸ˆã¿ã®å ´åˆã«ã®ã¿ `[å®Œäº†]` ã¨è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```diff
  <ul>
-   <li *ngFor="let task of tasks">{{ task.title }} <span>{{ task.done }}</span></li>
+   <li *ngFor="let task of tasks">
+     <span *ngIf="task.done">[å®Œäº†]</span>
+     {{ task.title }}
+   </li>
  </ul>
```

å‡ºåŠ›ã™ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¶å¾¡ã—ãŸã„DOMè¦ç´ ã« `*ngIf="çœŸå½å€¤"` ã¨æ›¸ãã“ã¨ã§ã€ `çœŸå½å€¤` ãŒ `true` ã®å ´åˆã«ã®ã¿DOMè¦ç´ ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã“ã‚Œã§ã€ç”»é¢ã®å†…å®¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã«ãªã‚‹ã¯ãšã§ã™ã€‚

```
ç‰›ä¹³ã‚’è²·ã†
[å®Œäº†] å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™
éŠ€è¡Œã«è¡Œã
```

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ›¸ã„ã¦ã¿ã‚‹

æ¬¡ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

å…ˆã»ã© `*ngIf` ã‚’ä½¿ã£ã¦ `[å®Œäº†]` ã¨å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ãŸãŒã€ã‚„ã£ã±ã‚Šå®Œäº†æ¸ˆã¿ã®ã‚¿ã‚¹ã‚¯ã¯ã‚¹ã‚¿ã‚¤ãƒ«ã§åˆ¤åˆ¥ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚

```diff
  <ul>
-   <li *ngFor="let task of tasks">
-     <span *ngIf="task.done">[å®Œäº†]</span>
+   <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
      {{ task.title }}
    </li>
  </ul>
```

ã“ã‚“ãªãµã†ã«ã€å®Œäº†æ¸ˆã¿ã®å ´åˆã®ã¿ `<li>` è¦ç´ ã« `done` ã¨ã„ã†ã‚¯ãƒ©ã‚¹ã‚’ä»˜ã‘ã¦ãŠãã€ãã®ä¸Šã§ `src/app/app.component.scss` ã«ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ›¸ãã¾ã™ã€‚

```scss
.done {
  color: gray;
  text-decoration: line-through;
}
```

`å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™` ã ã‘å­—ãŒè–„ããªã£ã¦å–ã‚Šæ¶ˆã—ç·šãŒå¼•ã‹ã‚ŒãŸè¦‹ãŸç›®ã«ãªã£ã¦ã„ã‚Œã°OKã§ã™ğŸ‘Œ

# 2. æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã‚‹

ãƒ“ãƒ¥ãƒ¼ã‚’è‰²ã€…ã¨ã„ã˜ã£ã¦ã¿ã¦ã€ç”»é¢ã®ä½œã‚Šæ–¹ã¯ãªã‚“ã¨ãªãã‚¤ãƒ¡ãƒ¼ã‚¸ã§ããŸã‹ã¨æ€ã„ã¾ã™ã€‚ã“ã“ã‚‰ã§æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ğŸ‘

## `ngModel` ã‚’ä½¿ã£ã¦å¤‰æ•°ã¨å…¥åŠ›æ¬„ã‚’ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹

ã²ã¨ã¾ãšä½•ã‚‚è€ƒãˆãšã«å…¥åŠ›æ¬„ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```diff
  <ul>
    <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
      {{ task.title }}
    </li>
+   <li>
+     <input type="text">
+   </li>
  </ul>
```

å½“ç„¶ãªãŒã‚‰ã“ã‚Œã ã‘ã§ã¯å…¥åŠ›ã—ã¦ã‚‚ä½•ã‚‚èµ·ã“ã‚Šã¾ã›ã‚“ã­ã€‚

Angularã§ç”»é¢ã‹ã‚‰ã®å…¥åŠ›ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ­ã‚¸ãƒƒã‚¯ã«æ¸¡ã™ã«ã¯ã€ **`<input>` è¦ç´ ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¯ãƒ©ã‚¹å¤‰æ•°ã‚’ç´ä»˜ã‘ã‚‹ï¼ˆãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ï¼‰** ã¨ã„ã†ä½œæ¥­ãŒå¿…è¦ã§ã™ã€‚

ãã®ãŸã‚ã«ä½¿ã†ã®ãŒ [`ngModel`](https://angular.io/api/forms/NgModel) ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã§ã™ã€‚

ã¾ãšã¯å®Ÿéš›ã« `ngModel` ã‚’ä½¿ã£ãŸã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```diff
  export class AppComponent {
    tasks = [
      {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false},
      {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true},
      {title: 'éŠ€è¡Œã«è¡Œã', done: false},
    ];
+
+   newTaskTitle = '';
  }
```

```diff
  <li>
-   <input type="text">
+   <input type="text" [(ngModel)]="newTaskTitle">
  </li>
```

`AppComponent` ã«ã‚¯ãƒ©ã‚¹å¤‰æ•° `newTaskTitle` ã‚’è¿½åŠ ã—ã¦ã€ãƒ“ãƒ¥ãƒ¼å´ã§ã¯ `<input>` è¦ç´ ã« `[(ngModel)]="newTaskTitle"` ã¨ã„ã†è¨˜è¿°ã‚’è¶³ã—ã¾ã—ãŸã€‚

ã“ã‚Œã§ `<input>` è¦ç´ ãŒ `newTaskTitle` ã¨ç´ä»˜ãã¾ã™ğŸ’ªï¼ˆâ€»ãŸã ã—ã“ã®æ™‚ç‚¹ã§ã¯ã¾ã å‹•ä½œã—ã¾ã›ã‚“ï¼‰

`ngModel` ã¯ã€Angularã«ãŠã„ã¦ **åŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°** ã‚’å®Ÿç¾ã™ã‚‹ã‚‚ã£ã¨ã‚‚åŸºæœ¬çš„ãªæ‰‹æ®µã§ã™ã€‚

åŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¨ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ¬ä½“ã¨ãƒ“ãƒ¥ãƒ¼ã®é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’åŒæœŸã™ã‚‹ä»•çµ„ã¿ã®ã“ã¨ã§ã™ã€‚ä»Šå›ã®ä¾‹ã ã¨ã€ç”»é¢ä¸Šã§ `<input>` ã®å€¤ã‚’æ›¸ãæ›ãˆã‚‹ãŸã³ã« `newTaskTitle` ã®å€¤ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å¤‰æ›´ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ã¡ãªã¿ã«ã€ã€ŒåŒæ–¹å‘ã€ã¨ã„ã†ã ã‘ã‚ã£ã¦ã€é€†ã«ã‚¯ãƒ©ã‚¹å†…ã§ `newTaskTitle` ã«ä½•ã‹ã‚’ä»£å…¥ã™ã‚‹å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ç”»é¢å´ã«ã‚‚ãã‚ŒãŒåæ˜ ã•ã‚Œã¾ã™ğŸ‘

ä¾‹ãˆã°ã€ä»Šå›ã¯ `newTaskTitle = '';` ã¨ç©ºæ–‡å­—åˆ—ã‚’åˆæœŸå€¤ã¨ã—ã¦ä»£å…¥ã—ã¦ã„ã‚‹ã®ã§ `<input>` ã®å€¤ã‚‚ç©ºæ¬„ã§åˆæœŸåŒ–ã•ã‚Œã¾ã™ãŒã€ `newTaskTitle = 'test';` ãªã©ã¨å¤‰æ›´ã™ã‚Œã° `<input>` ã®å†…å®¹ã‚‚åˆã‚ã‹ã‚‰ `test` ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚

## `ngModel` ã‚’ä½¿ã†ãŸã‚ã«ã€ `FormsModule` ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹

ã•ã¦ã€å…ˆã»ã©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« `ngModel` ã‚’ä½¿ã†ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãè¶³ã—ã¾ã—ãŸãŒã€å®Ÿã¯ã“ã®æ©Ÿèƒ½ã¯ `ng new` ã—ãŸã ã‘ã®é››å½¢ã‚¢ãƒ—ãƒªã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

`ngModel` ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«ã¯ã€Angularæ¨™æº–ã® [`FormsModule`](https://angular.io/api/forms/FormsModule) ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ğŸ’ª

Angularã«ã¯ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã¨ã„ã†æ©Ÿæ§‹ãŒã‚ã‚Šã€å¿…è¦ã«å¿œã˜ã¦è¤‡æ•°ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã¦ã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã«ã¯ã™ã§ã«è§¦ã‚Œã¾ã—ãŸã­ã€‚ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã€ã¨è¡¨ç¾ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚ˆã‚Šå…·ä½“çš„ã«ã¯ã€ **ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä»–ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹** ã“ã¨ã«ã‚ˆã£ã¦ãã‚Œã‚’å®Ÿç¾ã—ã¾ã™ã€‚

ä»Šå›ã¯ã€ `AppModule` ã« `FormsModule` ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ ã“ã¨ã§ã€ `AppModule` å†…ã§ `FormsModule` ãŒæŒã£ã¦ã„ã‚‹ `ngModel` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã€ã¨ã„ã†ã“ã¨ã«ã«ãªã‚Šã¾ã™ã€‚

å…·ä½“çš„ã«ã¯ã€ `src/app/app.module.ts` ã«ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’è¿½è¨˜ã™ã‚Œã°OKã§ã™ã€‚

```diff
  import { BrowserModule } from '@angular/platform-browser';
  import { NgModule } from '@angular/core';
+ import { FormsModule } from '@angular/forms';
  
  import { AppComponent } from './app.component';
  
  @NgModule({
    declarations: [
      AppComponent
    ],
    imports: [
-     BrowserModule
+     BrowserModule,
+     FormsModule,
    ],
    providers: [],
    bootstrap: [AppComponent]
  })
  export class AppModule { }
```

`@NgModule({})` ã®ä¸­ã® `imports: []` ã¨ã„ã†é…åˆ—ã« `FormsModule` ã‚’è¿½åŠ ã—ãŸã ã‘ã§ã™ã­ ğŸ‘

## `ngModel` ã®æŒ¯ã‚‹èˆã„ã‚’ç¢ºèªã—ã¦ã¿ã‚‹

ã“ã“ã¾ã§ã§ã€ç„¡äº‹ã«ç”»é¢ã®å…¥åŠ›æ¬„ã‹ã‚‰ `newTaskTitle` å¤‰æ•°ã®å€¤ã‚’æ“ä½œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

ã¨è¨€ã‚ã‚Œã¦ã‚‚ã€ç”»é¢ã«ã¯å…¥åŠ›æ¬„ãã®ã‚‚ã®ã—ã‹è¡¨ç¤ºã•ã‚Œã¦ã„ãªã„ã®ã§ã€å¤‰æ•°ã®å€¤ãŒå¤‰åŒ–ã—ã¦ã„ã‚‹ã®ã‹ãŒåˆ†ã‹ã‚‰ãªã„ã§ã™ã­ğŸ¤”

ã¨ã„ã†ã‚ã‘ã§ã€ã¨ã‚Šã‚ãˆãšå‹•ä½œç¢ºèªã®ãŸã‚ã«ç”»é¢ã« `newTaskTitle` ã®å€¤ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```diff
   <ul>
     <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
       {{ task.title }}
     </li>
     <li>
       <input type="text" [(ngModel)]="newTaskTitle">
     </li>
   </ul>
+
+  newTaskTitleã®å€¤: {{ newTaskTitle }}
```

ã“ã‚Œã§ç”»é¢ã‚’æ“ä½œã—ã¦ã¿ã‚‹ã¨ã€ä¸‹å›³ã®ã‚ˆã†ã« `newTaskTitle` ã®å€¤ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å…¥åŠ›å€¤ã¨åŒæœŸã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™âœ¨

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftevbcx59g309c04nq3c.gif)

## å…¥åŠ›ã—ãŸå†…å®¹ã‚’ã‚¿ã‚¹ã‚¯ã¨ã—ã¦è¿½åŠ ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

ã“ã‚Œã§å…¥åŠ›æ¬„ã®ç”¨æ„ã¯ã§ãã¾ã—ãŸã€‚

æ¬¡ã¯ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’è¨­ç½®ã—ã¦ã€ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’ãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹ã¨ã„ã†å‡¦ç†ã‚’æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†ğŸ’ª

ã¨ã‚Šã‚ãˆãšãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚

```diff
  <ul>
    <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
      {{ task.title }}
    </li>
    <li>
      <input type="text" [(ngModel)]="newTaskTitle">
+     <button>è¿½åŠ </button>
    </li>
  </ul>
  
  newTaskTitleã®å€¤: {{ newTaskTitle }}
```

ã“ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«ä½•ã‹å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã€ã¨ã„ã†ã“ã¨ãŒã§ãã‚Œã°ã‚ˆã•ãã†ã§ã™ã­ã€‚

ã“ã‚Œã¯ [ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°](https://angular.io/guide/user-input#binding-to-user-input-events) ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã†ã“ã¨ã§ç°¡å˜ã«å®Ÿç¾ã§ãã¾ã™ã€‚

```diff
  <ul>
    <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
      {{ task.title }}
    </li>
    <li>
      <input type="text" [(ngModel)]="newTaskTitle">
-     <button>è¿½åŠ </button>
+     <button (click)="addTask()">è¿½åŠ </button>
    </li>
  </ul>
  
  newTaskTitleã®å€¤: {{ newTaskTitle }}
```

ã“ã®ã‚ˆã†ã«ã€DOMè¦ç´ ã« `(click)="å®Ÿè¡Œã—ãŸã„å‡¦ç†"` ã‚’æ›¸ãã“ã¨ã§ã€è¦ç´ ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«å‡¦ç†ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚

`(click)` ä»¥å¤–ã«ã‚‚ `(change)` ã‚„ `(keyup)` ãªã© [DOMã®æ¨™æº–ã‚¤ãƒ™ãƒ³ãƒˆ](https://developer.mozilla.org/ja/docs/Web/Events#Standard_events) ã‚’ãƒã‚¤ãƒ³ãƒ‰ã§ãã¾ã™ã€‚

ã“ã“ã§ã¯ã€ã‚¯ãƒªãƒƒã‚¯æ™‚ã« `addTask()` ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚ãªã®ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå´ã« `addTask()` ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚

```diff
  import { Component } from '@angular/core';
  
  @Component({
    selector: 'app-root',
    templateUrl: './app.component.html',
    styleUrls: ['./app.component.scss']
  })
  export class AppComponent {
    tasks = [
      {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false},
      {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true},
      {title: 'éŠ€è¡Œã«è¡Œã', done: false},
    ];
  
    newTaskTitle = '';
+
+   addTask() {
+     this.tasks.push({title: this.newTaskTitle, done: false});
+     this.newTaskTitle = '';
+   }
  }
```

ã“ã‚Œã§ã€ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ `newTaskTitle` ã‚’ã‚¿ã‚¤ãƒˆãƒ«ã¨ã™ã‚‹æ–°ã—ã„ã‚¿ã‚¹ã‚¯ãŒ `this.tasks` ã®æœ«å°¾ã«è¿½åŠ ã•ã‚Œã¾ã™ğŸ‘

ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ã‚¯ãƒ©ã‚¹å¤‰æ•°ã‚„ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãã¯ `newTaskTitle` ã‚„ `addTask()` ã®ã‚ˆã†ã«æ›¸ã‘ã°ã‚ˆã‹ã£ãŸã®ã«å¯¾ã—ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¯ãƒ©ã‚¹å†…ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆã¯ `this.tasks` `this.newTasks` ã¨ `this.` ãŒå¿…è¦ãªã®ã§æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚

å‹•ä½œã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ä¸‹å›³ã®ã‚ˆã†ã«ã‚¿ã‚¹ã‚¯ã®è¿½åŠ ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°OKã§ã™ğŸ™Œ

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftfesfijig30an0630ti.gif)

# 3. Todoã‚¢ãƒ—ãƒªã¨ã—ã¦å¿…è¦ãã†ãªæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹

`ngModel` ã‚’ä½¿ã£ãŸåŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¨ `(click)` ã®ã‚ˆã†ãªã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½“é¨“ã—ã¦ãã¾ã—ãŸãŒã€åŸºæœ¬çš„ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã¯ã“ã®2ã¤ã‚’ä½¿ã†ã ã‘ã§ã ã„ãŸã„å®Ÿè£…ã§ãã¾ã™ğŸ‘

ã¨ã„ã†ã‚ã‘ã§ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ã®åŸºæœ¬çš„ãªæµã‚ŒãŒåˆ†ã‹ã£ã¦ããŸã¨ã“ã‚ã§ã€Todoã‚¢ãƒ—ãƒªã¨ã—ã¦å¿…è¦ãã†ãªæ©Ÿèƒ½ã‚’ã„ãã¤ã‹è¿½åŠ ã—ã¦ã„ãã“ã¨ã«ã—ã¾ã—ã‚‡ã†ã€‚

## ã‚¿ã‚¤ãƒˆãƒ«ãªã—ã®ã‚¿ã‚¹ã‚¯ã¯ç™»éŒ²ã§ããªã„ã‚ˆã†ã«ã™ã‚‹

ã¨ã‚Šã‚ãˆãšã€ç¾çŠ¶ã ã¨ã‚¿ã‚¤ãƒˆãƒ«ã‚’ç©ºæ¬„ã®ã¾ã¾ã€Œè¿½åŠ ã€ã‚’æŠ¼ã›ã°ã‚¿ã‚¤ãƒˆãƒ«ãªã—ã®ã‚¿ã‚¹ã‚¯ãŒç™»éŒ²ã§ãã¦ã—ã¾ã£ã¦ã‚ˆã‚ã—ããªã„ã®ã§ã€ä½•ã‹å…¥åŠ›ã—ãªã„ã¨ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã›ãªã„ã‚ˆã†ã«å¯¾å¿œã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚

AngularãŒæŒã£ã¦ã„ã‚‹ [ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½](https://angular.io/guide/form-validation) ã‚’ä½¿ãˆã°å®Ÿç¾ã§ãã¾ã™ã€‚

```diff
  <li>
-   <input type="text" [(ngModel)]="newTaskTitle">
-   <button (click)="addTask()">è¿½åŠ </button>
+   <input type="text" [(ngModel)]="newTaskTitle" #title="ngModel" required>
+   <button (click)="addTask()" [disabled]="title.invalid">è¿½åŠ </button>
  </li>
```

ã‚³ãƒ¼ãƒ‰ã‚’ã“ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã“ã¨ã§ã€ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›æ¬„ãŒç©ºæ¬„ã ã¨ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªã„ã‚ˆã†ã«ãªã‚‹ã®ã§ã™ãŒã€ã¡ã‚‡ã£ã¨é›£è§£ã§ã™ã‚ˆã­ã€‚ä¸€ã¤ãšã¤è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

ã¾ãšã€ `<input type="text">` ã« `#title="ngModel" required"` ã¨ã„ã†ã‚³ãƒ¼ãƒ‰ãŒè¿½è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

`required` ã¯ãŸã ã®HTML5ã®å±æ€§ã§ã™ãŒã€ `#title="ngModel"` ã¨ã„ã†ã®ã¯åˆã‚ã¦è¦‹ã‚‹è¨˜è¿°ã§ã™ã­ã€‚ã“ã‚Œã¯ [ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§å¤‰æ•°](https://angular.io/guide/template-syntax#template-reference-variables-var) ã¨ã„ã£ã¦ã€ã‚ã‚‹DOMè¦ç´ ã« `#ä»»æ„ã®åå‰` ã¨ãƒãƒ¼ã‚¯ã™ã‚‹ã“ã¨ã§ã€ä»–ã®DOMè¦ç´ ã‹ã‚‰ `ä»»æ„ã®åå‰` ã¨ã„ã†å¤‰æ•°åã§ãã®DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ã„ã†ä»£ç‰©ã§ã™ã€‚

ã“ã“ã§ã¯ `#title` ã¨ãƒãƒ¼ã‚¯ã™ã‚‹ã“ã¨ã§ `title` ã¨ã„ã†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§å¤‰æ•°ã‚’å®£è¨€ã—ã€ã•ã‚‰ã«ãã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§å¤‰æ•°ã« `ngModel` è‡ªä½“ã‚’ä»£å…¥ã™ã‚‹ã¨ã„ã†ã“ã¨ã‚’ã—ã¦ã„ã¾ã™ã€‚å®Ÿã¯DOMè¦ç´ ãŒãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®å ´åˆã¯ã€ã“ã†ã™ã‚‹ã“ã¨ã§ãã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§å¤‰æ•°ã‚’é€šã—ã¦ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®çŠ¶æ…‹ï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœãªã©ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã§ã™ã€‚

ã“ã‚Œã‚’ç†è§£ã—ãŸä¸Šã§ `<button (click)="addTask()" [disabled]="title.invalid">è¿½åŠ </button>` ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€æ„å‘³ãŒåˆ†ã‹ã‚Šãã†ã§ã™ã­ã€‚

`title.invalid` ã® `title` ã¯ã€å…ˆã»ã©ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§å¤‰æ•° `title` ã§ã™ã€‚ `title` ã«ã¯ `ngModel` ã‚’ä»£å…¥ã—ã¦ã‚ã£ãŸã®ã§ã€ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœãŒ `invalid` ã¨ã„ã†ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‚ã‘ã§ã™ã­ã€‚ï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã° `invalid` ãŒ `true` ã«ãªã‚Šã¾ã™ï¼‰

ãã—ã¦ã€ `[disabled]="çœŸå½å€¤"` ã«ã‚ˆã£ã¦ã€HTML5ã® `disabled` å±æ€§ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‹ã©ã†ã‹ã‚’ `çœŸå½å€¤` ã®å€¤ã«å¿œã˜ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ã€ã¨ã„ã†ã“ã¨ã‚’ã—ã¦ã„ã¾ã™ã€‚

ã¾ã¨ã‚ã‚‹ã¨ã€

* ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›æ¬„ã«ã¯ `required` å±æ€§ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã®ã§
* ã“ã“ãŒç©ºæ¬„ã ã¨ `title.invalid` ãŒ `true` ã«ãªã‚‹
* ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ã¯ã€ `title.invalid` ãŒ `true` ã®å ´åˆã« `disabled` å±æ€§ãŒä»˜ä¸ã•ã‚Œã‚‹ã®ã§
* ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›æ¬„ãŒç©ºæ¬„ã ã¨ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªã„

ã¨ã„ã†å®Ÿè£…ã«ãªã‚‹ã‚ã‘ã§ã™ã­ğŸ‘

> å‚è€ƒï¼š[Angular - Validating form input](https://angular.io/guide/form-validation#validating-input-in-template-driven-forms)

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftsm5ymmpg30bl05jt95.gif)

## ã‚¿ã‚¹ã‚¯ã®å®Œäº†ãƒ»æœªå®Œäº†ã‚’å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

Todoã‚¢ãƒ—ãƒªãªã‚‰å½“ç„¶ã‚¿ã‚¹ã‚¯ã®å®Œäº†ãƒ»æœªå®Œäº†ã‚’ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã§ã—ã‚‡ã†ã€‚

ã“ã‚Œã¯ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹è¦ç´ ã« `ngModel` ã‚’é©ç”¨ã™ã‚‹ã ã‘ã§ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã™ğŸ‘

```diff
  <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
-   {{ task.title }}
+   <label>
+     <input type="checkbox" [(ngModel)]="task.done">
+     {{ task.title }}
+   </label>
  </li>
```

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftu1risdbg30af05v3ze.gif)

ç°¡å˜ã§ã™ã­ï¼

## ã‚¿ã‚¹ã‚¯ã«æœŸæ—¥ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

ã“ã®ã¾ã¾ã ã¨ã¡ã‚‡ã£ã¨æ©Ÿèƒ½çš„ã«å¯‚ã—ã„ã®ã§ã€ã‚¿ã‚¹ã‚¯ã”ã¨ã«æœŸæ—¥ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚

ã¾ãšã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¯ãƒ©ã‚¹ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚

```diff
  export class AppComponent {
    tasks = [
-     {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false},
-     {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true},
-     {title: 'éŠ€è¡Œã«è¡Œã', done: false},
+     {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false, deadline: new Date('2021-01-01')},
+     {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true, deadline: new Date('2021-01-02')},
+     {title: 'éŠ€è¡Œã«è¡Œã', done: false, deadline: new Date('2021-01-03')},
    ];

-   newTaskTitle = '';
+   newTask = {
+     title: '',
+     deadline: new Date(),
+   };
  
    addTask() {
-     this.tasks.push({title: this.newTaskTitle, done: false});
-     this.newTaskTitle = '';
+     this.tasks.push({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
+     this.newTask = {
+       title: '',
+       deadline: new Date(),
+     };
    }
  }
```

ã‚¿ã‚¹ã‚¯ã« `deadline` ã¨ã„ã†ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã€ç”»é¢ã®å…¥åŠ›å€¤ã‚’å…¥ã‚Œã¦ãŠãç®±ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã—ã¾ã—ãŸã€‚

ã“ã‚Œã«åˆã‚ã›ã¦ãƒ“ãƒ¥ãƒ¼ã‚‚ä¿®æ­£ã—ã¾ã™ã€‚

```diff
  <ul>
    <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
      <label>
        <input type="checkbox" [(ngModel)]="task.done">
        {{ task.title }}
+       ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰
      </label>
    </li>
    <li>
-     <input type="text" [(ngModel)]="newTaskTitle" #title="ngModel" required>
+     <input type="text" [(ngModel)]="newTask.title" #title="ngModel" required>
+     <input type="date" [(ngModel)]="newTask.deadline">
      <button (click)="addTask()" [disabled]="title.invalid">è¿½åŠ </button>
    </li>
  </ul>
  
- newTaskTitleã®å€¤: {{ newTaskTitle }}
+ newTaskã®å€¤: {{ newTask|json }}
```

`task.deadline|date:'yyyy/MM/dd'` ã‚„ `newTask|json` ã¨ã„ã£ãŸè¦‹æ…£ã‚Œãªã„è¨˜è¿°ãŒç™»å ´ã—ã¾ã—ãŸã­ã€‚

ã“ã® `|` ã«ç¶šã `date` ã‚„ `json` ã¯ [ãƒ‘ã‚¤ãƒ—](https://angular.io/guide/pipes) ã¨å‘¼ã°ã‚Œã‚‹ãƒ“ãƒ¥ãƒ¼å‘½ä»¤ã®ä¸€ç¨®ã§ã€ä¸»ã«ãƒ“ãƒ¥ãƒ¼ä¸Šã§å¤‰æ•°ã®å€¤ã‚’æ•´å½¢ã—ãŸã‚Šå¤‰æ›ã—ãŸã‚Šã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

[æ¨™æº–ã§ã„ãã¤ã‹ã®ãƒ‘ã‚¤ãƒ—ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹](https://angular.io/api?type=pipe) ã»ã‹ã€[danrevah/ngx-pipes](https://github.com/danrevah/ngx-pipes) ã‚„ [fknop/angular-pipes](https://github.com/fknop/angular-pipes) ã¨ã„ã£ãŸOSSã‚’å°å…¥ã™ã‚Œã°ã•ã‚‰ã«ä¾¿åˆ©ãªãƒ‘ã‚¤ãƒ—ãŒãŸãã•ã‚“åˆ©ç”¨ã§ãã¾ã™ã€‚

[`date`](https://angular.io/api/common/DatePipe) ã¯æ—¥ä»˜ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ãŸã‚ã®ãƒ‘ã‚¤ãƒ—ã€ [`json`](https://angular.io/api/common/JsonPipe) ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’JSONæ–‡å­—åˆ—ã«å¤‰æ›ã—ã¦è¡¨ç¤ºã™ã‚‹ãŸã‚ã®Angularæ¨™æº–ã®ãƒ‘ã‚¤ãƒ—ã§ã™ã€‚

ã“ã‚Œã§ã€ä¸‹å›³ã®ã‚ˆã†ã«æœŸæ—¥ä»˜ãã®ã‚¿ã‚¹ã‚¯ã‚’ç™»éŒ²ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ‘

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftu76zp8bg30hc096n0h.gif)

## æœŸæ—¥è¶…éã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å¼·èª¿è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã™ã‚‹

ã›ã£ã‹ãæœŸæ—¥ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ãŸã®ã§ã€æœŸæ—¥è¶…éã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å¼·èª¿è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```diff
  <label>
    <input type="checkbox" [(ngModel)]="task.done">
    {{ task.title }}
    ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰
+   <span *ngIf="isOverdue(task)" class="overdue">æœŸæ—¥è¶…é</span>
  </label>
```

```diff
  .done {
    color: gray;
    text-decoration: line-through;
  }
+
+ .overdue {
+   color: darkred;
+ }
```

ã“ã®ã‚ˆã†ã«ãƒ“ãƒ¥ãƒ¼ã« `æœŸæ—¥è¶…é` ã¨è¡¨ç¤ºã™ã‚‹ãŸã‚ã® `<span>` è¦ç´ ã‚’è¿½è¨˜ã—ã¦ã€ãã® `<span>` è¦ç´ ã«ã¯ `*ngIf` ã§ `isOverdue(task)` ã®æˆ»ã‚Šå€¤ãŒ `true` ã®ã¨ãã«ã ã‘è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†è¨­å®šã—ã¾ã™ã€‚

ã‚ã¨ã¯ãã® `isOverdue()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¯ãƒ©ã‚¹ã«è¿½åŠ ã™ã‚Œã°OKã§ã™ã­ã€‚

```diff
  tasks = [
    {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false, deadline: new Date('2021-01-01')},
-   {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true, deadline: new Date('2021-01-02')},
-   {title: 'éŠ€è¡Œã«è¡Œã', done: false, deadline: new Date('2021-01-03')},
+   {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true, deadline: new Date('2020-01-02')},
+   {title: 'éŠ€è¡Œã«è¡Œã', done: false, deadline: new Date('2020-01-03')},
  ];

  // ...

  addTask() {
    this.tasks.push({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
    this.newTask = {
      title: '',
      deadline: new Date(),
    };
  }
+
+ isOverdue(task) {
+   return !task.done && task.deadline < (new Date()).setHours(0, 0, 0, 0);
+ }
```

ã¤ã„ã§ã«å‹•ä½œç¢ºèªã‚’ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã«ã‚¿ã‚¹ã‚¯ã®åˆæœŸãƒ‡ãƒ¼ã‚¿ã®ã†ã¡2ã¤ã‚’æœŸæ—¥è¶…éçŠ¶æ…‹ï¼ˆ `deadline` ã®å€¤ãŒ2020å¹´ï¼‰ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

`isOverdue()` ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ã¯ã€

* ã‚¿ã‚¹ã‚¯ãŒå®Œäº†æ¸ˆã¿ã§ãªã
* ã‚¿ã‚¹ã‚¯ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹æœŸæ—¥ãŒã€Œä»Šæ—¥ã®0æ™‚0åˆ†0ç§’0ãƒŸãƒªç§’ã€ã‚ˆã‚Šã‚‚ä»¥å‰ã§ã‚ã‚‹

ã¨ã„ã†æ¡ä»¶ã§ `true` ã«ãªã‚‹ï¼ˆæœŸæ—¥è¶…éã¨è¦‹ãªã™ï¼‰ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ï¼ˆå‚è€ƒï¼š [`Date.prototype.setHours()`](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Date/setHours)ï¼‰

ã“ã‚Œã§ã€ä¸‹å›³ã®ã‚ˆã†ã«ã€æœªå®Œäº†ã‹ã¤æœŸæ—¥ã‚’è¶…éã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ã«ã®ã¿ `æœŸæ—¥è¶…é` ã¨ã„ã†ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftu9aj6r2g30hy0avdkl.gif)

ã ã‚“ã ã‚“Todoã‚¢ãƒ—ãƒªã£ã½ããªã£ã¦ãã¾ã—ãŸã­ï¼âœ¨

# 4. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ†ã‘ã¦ã¿ã‚‹

ã•ã¦ã€ã“ã“ã¾ã§ã™ã¹ã¦ã®å‡¦ç†ã‚’ `AppComponent` ã®ä¸­ã«æ›¸ã„ã¦ãã¾ã—ãŸã€‚

ã“ã‚Œãã‚‰ã„ã®è¦æ¨¡ã®ã‚¢ãƒ—ãƒªãªã‚‰ã“ã®ã‚ˆã†ãªå®Ÿè£…ã§ã‚‚ã•ã»ã©å•é¡Œãªã•ãã†ã§ã™ãŒã€æœ¬æ ¼çš„ãªã‚¢ãƒ—ãƒªé–‹ç™ºã‚’ã™ã‚‹éš›ã«ã¯ **UIéƒ¨å“ã”ã¨ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åˆ†ã‘ã¦ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒå£«ã‚’é€£æºã•ã›ãªãŒã‚‰ã‚¢ãƒ—ãƒªã‚’çµ„ã¿ä¸Šã’ã¦ã„ã** ã¨ã„ã†ã“ã¨ãŒå¿…è¦ã«ãªã£ã¦ãã¾ã™ã€‚

ãªã®ã§ã“ã“ã‚‰ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ†ã‘ã‚‹ç·´ç¿’ã‚’ã—ã¦ãŠãã¾ã—ã‚‡ã†ğŸ’ª

ç¾çŠ¶ã“ã®ã‚¢ãƒ—ãƒªãŒæŒã£ã¦ã„ã‚‹æ©Ÿèƒ½ã‚’åˆ†è§£ã—ã¦è€ƒãˆã¦ã¿ã‚‹ã¨ã€

* ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ
* ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã®1è¡Œ
* ã‚¿ã‚¹ã‚¯è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ 

ã®3ã¤ãã‚‰ã„ã«åˆ†ã‘ã‚‰ã‚Œãã†ã§ã™ã€‚ã“ã“ã§ã¯ã“ã®3ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åˆ†ã‘ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ã‚‡ã†ã€‚

## `TaskListComponent` ã‚’ä½œã‚‹

ã¾ãšã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã®å®Ÿè£…ã‚’æŒã¤ `TaskListComponent` ã‚’ä½œã£ã¦ã€ `AppComponent` ã‹ã‚‰åˆ†é›¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹å ´åˆã€æ‰‹ä½œæ¥­ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ã‚¼ãƒ­ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‹ãªãã¦ã‚‚ã€ [`ng generate`](https://angular.io/cli/generate) ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã“ã¨ã§é››å½¢ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ğŸ™Œ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¦ãã ã•ã„ã€‚

```bash
ng generate component TaskList
# å®Ÿã¯
# ng g c TaskList
# ã¨ç•¥è¨˜ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™
```

`src/app/task-list/` é…ä¸‹ã«

* `task-list.component.ts` ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¯ãƒ©ã‚¹ï¼‰
* `task-list.component.html` ï¼ˆãƒ“ãƒ¥ãƒ¼ï¼‰
* `task-list.component.scss` ï¼ˆã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
* `task-list.component.spec.ts` ï¼ˆãƒ†ã‚¹ãƒˆï¼‰

ã®4ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã€ã•ã‚‰ã« `src/app/app.module.ts` ãŒä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚

```diff
  import { BrowserModule } from '@angular/platform-browser';
  import { NgModule } from '@angular/core';
  import { FormsModule } from '@angular/forms';
  
  import { AppComponent } from './app.component';
+ import { TaskListComponent } from './task-list/task-list.component';
  
  @NgModule({
    declarations: [
      AppComponent,
+     TaskListComponent
    ],
    imports: [
      BrowserModule,
      FormsModule,
    ],
    providers: [],
    bootstrap: [AppComponent]
  })
  export class AppModule { }
```

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å„ç¨®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¦ã€ `AppModule` ã¸ã®ç™»éŒ²ã¾ã§è‡ªå‹•ã§è¡Œã£ã¦ãã‚ŒãŸã‚ã‘ã§ã™ã­ã€‚ä¾¿åˆ©ï¼

ã§ã¯ã€å…ˆã»ã©ã¾ã§ `AppComponent` ã«æ›¸ã„ã¦ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’æ–°ãŸã«ç”Ÿæˆã•ã‚ŒãŸ `TaskListComponent` ã«ç§»ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

**AppComponent**

```diff
  import { Component } from '@angular/core';
  
  @Component({
    selector: 'app-root',
    templateUrl: './app.component.html',
    styleUrls: ['./app.component.scss']
  })
  export class AppComponent {
-   tasks = [
-     {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false, deadline: new Date('2021-01-01')},
-     {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true, deadline: new Date('2020-01-02')},
-     {title: 'éŠ€è¡Œã«è¡Œã', done: false, deadline: new Date('2020-01-03')},
-   ];
- 
-   newTask = {
-     title: '',
-     deadline: new Date(),
-   };
- 
-   addTask() {
-     this.tasks.push({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
-     this.newTask = {
-       title: '',
-       deadline: new Date(),
-     };
-   }
- 
-   isOverdue(task) {
-     return !task.done && task.deadline < (new Date()).setHours(0, 0, 0, 0);
-   }
  }
```

```diff
- <ul>
-   <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
-     <label>
-       <input type="checkbox" [(ngModel)]="task.done">
-       {{ task.title }}
-       ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰
-       <span *ngIf="isOverdue(task)" class="overdue">æœŸæ—¥è¶…é</span>
-     </label>
-   </li>
-   <li>
-     <input type="text" [(ngModel)]="newTask.title">
-     <input type="date" [(ngModel)]="newTask.deadline">
-     <button (click)="addTask()">è¿½åŠ </button>
-   </li>
- </ul>
- 
- newTaskã®å€¤: {{ newTask|json }}
+ <app-task-list></app-task-list>
```

```diff
- .done {
-   color: gray;
-   text-decoration: line-through;
- }
- 
- .overdue {
-   color: darkred;
- }
```

**TaskListComponent**

```diff
  import { Component, OnInit } from '@angular/core';
  
  @Component({
    selector: 'app-task-list',
    templateUrl: './task-list.component.html',
    styleUrls: ['./task-list.component.scss']
  })
  export class TaskListComponent implements OnInit {
  
    constructor() { }
  
+   tasks = [
+     {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false, deadline: new Date('2021-01-01')},
+     {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true, deadline: new Date('2020-01-02')},
+     {title: 'éŠ€è¡Œã«è¡Œã', done: false, deadline: new Date('2020-01-03')},
+   ];
+ 
+   newTask = {
+     title: '',
+     deadline: new Date(),
+   };
+ 
    ngOnInit(): void {
    }
  
+   addTask() {
+     this.tasks.push({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
+     this.newTask = {
+       title: '',
+       deadline: new Date(),
+     };
+   }
+ 
+   isOverdue(task) {
+     return !task.done && task.deadline < (new Date()).setHours(0, 0, 0, 0);
+   }
  }
```

```diff
- <p>task-list works!</p>
+ <ul>
+   <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
+     <label>
+       <input type="checkbox" [(ngModel)]="task.done">
+       {{ task.title }}
+       ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰
+       <span *ngIf="isOverdue(task)" class="overdue">æœŸæ—¥è¶…é</span>
+     </label>
+   </li>
+   <li>
+     <input type="text" [(ngModel)]="newTask.title">
+     <input type="date" [(ngModel)]="newTask.deadline">
+     <button (click)="addTask()">è¿½åŠ </button>
+   </li>
+ </ul>
+ 
+ newTaskã®å€¤: {{ newTask|json }}
```

```diff
+ .done {
+   color: gray;
+   text-decoration: line-through;
+ }
+ 
+ .overdue {
+   color: darkred;
+ }
```

ã»ã¨ã‚“ã©ã‚³ãƒ”ãƒšã—ãŸã ã‘ã§ã™ãŒã€å”¯ä¸€ã®ãƒã‚¤ãƒ³ãƒˆã¯ `src/app/app.component.html` ã«æ›¸ã„ãŸ

```html
<app-task-list></app-task-list>
```

ã“ã‚Œã§ã™ã€‚

å°å…¥ç·¨ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ã€ `AppComponent` ã® `selector` ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ `'app-root'` ã«å¯¾å¿œã—ã¦ `index.html` å†…ã® `<app-root></app-root>` ã®ç®‡æ‰€ã« `AppComponent` ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°çµæœãŒæŒ¿å…¥ã•ã‚Œã‚‹ã¨ã„ã†é–¢ä¿‚ã‚’ç´è§£ã„ãŸã“ã¨ã‚’è¦šãˆã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ã€‚

ä»Šå›ã‚‚ã¾ã£ãŸãåŒã˜ã§ã€è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸ `TaskListComponent` ã® `selector` ã®ã¨ã“ã‚ã«ã¯ `'app-task-list'` ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ¥ã®ãƒ“ãƒ¥ãƒ¼ã«æŒ¿å…¥ã—ãŸã„å ´åˆã¯ `<app-task-list></app-task-list>` ã¨ã„ã†è¦ç´ ã¨ã—ã¦è¨­ç½®ã™ã‚Œã°ã‚ˆã„ã¨ã„ã†ã‚ã‘ã§ã™ã€‚

ä»Šå›ã¯ã‚‚ã¨ã‚‚ã¨ `AppComponent` ã«æ›¸ã„ã¦ã„ãŸHTMLã‚’ä¸¸ã”ã¨ `TaskListComponent` ã«ç§»å‹•ã—ãŸã®ã§ã€ `AppComponent` ã®ãƒ“ãƒ¥ãƒ¼ã«ã¯ `<app-task-list></app-task-list>` ã ã‘ã‚’æ›¸ã„ã¦ãŠã‘ã°ã€ãã“ã« `TaskListComponent` ã®ä¸­èº«ãŒä¸¸ã”ã¨å±•é–‹ã•ã‚Œã‚‹çµæœã«ãªã‚Šã¾ã™ã€‚

ã“ã®æ™‚ç‚¹ã§ä¸€åº¦å‹•ä½œã‚’ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚å…ˆã»ã©ã¾ã§ã¨ä½•ã‚‰å¤‰ã‚ã‚‰ãªã„å‹•ä½œã«ãªã£ã¦ã„ã‚Œã°æ­£å¸¸ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ†å‰²ãŒã§ãã¦ã„ã‚‹è¨¼æ‹ ã§ã™ğŸ‘

## `TaskListItemComponent` ã‚’ä½œã‚‹

ã§ã¯ã€å…ˆã»ã©ã¨åŒã˜ã‚ˆã†ã«

```
ng generate component TaskListItem
```

ã§ `TaskListItemComponent` ã‚’ä½œæˆã—ã¦ã€ `TaskListComponent` ã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã€Œã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã®1è¡Œã€ã®å®Ÿè£…ã«é–¢ã™ã‚‹éƒ¨åˆ†ã‚’ `TaskListItemComponent` ã«ç§»ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

**TaskListComponent**

```diff
- isOverdue(task) {
-   return !task.done && task.deadline < (new Date()).setHours(0, 0, 0, 0);
- }
```

```diff
  <ul>
-   <li *ngFor="let task of tasks" class="{{ task.done ? 'done' : '' }}">
-     <label>
-       <input type="checkbox" [(ngModel)]="task.done">
-       {{ task.title }}
-       ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰
-       <span *ngIf="isOverdue(task)" class="overdue">æœŸæ—¥è¶…é</span>
-     </label>
-   </li>
+   <li *ngFor="let task of tasks">
+     <app-task-list-item [task]="task"></app-task-list-item>
+   </li>
    <li>
      <input type="text" [(ngModel)]="newTask.title">
      <input type="date" [(ngModel)]="newTask.deadline">
      <button (click)="addTask()">è¿½åŠ </button>
    </li>
  </ul>
  
  newTaskã®å€¤: {{ newTask|json }}
```

```diff
- .done {
-   color: gray;
-   text-decoration: line-through;
- }
- 
- .overdue {
-   color: darkred;
- }
```

**TaskListItemComponent**

```diff
- import { Component, OnInit } from '@angular/core';
+ import { Component, Input, OnInit } from '@angular/core';
  
  @Component({
    selector: 'app-task-list-item',
    templateUrl: './task-list-item.component.html',
    styleUrls: ['./task-list-item.component.scss']
  })
  export class TaskListItemComponent implements OnInit {
  
    constructor() { }
  
+   @Input() task;
+ 
    ngOnInit(): void {
    }
  
+   isOverdue(task) {
+     return !task.done && task.deadline < (new Date()).setHours(0, 0, 0, 0);
+   }
  }
```

```diff
- <p>task-list-item works!</p>
+ <label class="{{ task.done ? 'done' : '' }}">
+   <input type="checkbox" [(ngModel)]="task.done">
+   {{ task.title }}
+   ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰
+   <span *ngIf="isOverdue(task)" class="overdue">æœŸæ—¥è¶…é</span>
+ </label>
```

```diff
+ .done {
+   color: gray;
+   text-decoration: line-through;
+ }
+ 
+ .overdue {
+   color: darkred;
+ }
```

ä»Šå›ã‚‚ã»ã¨ã‚“ã©ã‚³ãƒ”ãƒšãªã®ã§ã™ãŒã€ `class="{{ task.done ? 'done' : '' }}"` ã‚’ä»˜åŠ ã™ã‚‹å¯¾è±¡ã®DOMè¦ç´ ã‚’ `<li>` ã‹ã‚‰ãã®é…ä¸‹ã® `<label>` ã«å¤‰æ›´ã—ã¦ã‚ã‚Šã¾ã™ã€‚ï¼ˆ `<li>` ã¾ã§ãŒ `TaskListComponent` ã®é–¢å¿ƒã§ã€ãã®ä¸­èº«ã‚’ `TaskListItemComponent` ã«ç§»è­²ã™ã‚‹ã¨ã„ã†é–¢ä¿‚ã«ã—ãŸã‹ã£ãŸã®ã§ï¼‰

ã¾ãŸã€ä»Šå›åˆã‚ã¦è¦‹ã‚‹ã‚³ãƒ¼ãƒ‰ãŒ2ã¤ã»ã©ç™»å ´ã—ã¦ã„ã¾ã—ãŸã€‚

* `src/app/task-list.component.html` ã® `<app-task-list-item [task]="task"></app-task-list-item>`
* `src/app/task-list-item.component.ts` ã® `@Input() task;`

ã“ã‚Œã‚‰ã¯2ã¤ã§ã‚»ãƒƒãƒˆã«ãªã£ã¦ã„ã¦ã€

* `TaskListComponent` ã‹ã‚‰ `TaskListItemComponent` ã® `task` ã‚¯ãƒ©ã‚¹å¤‰æ•°ã«å¯¾ã—ã¦ã€ï¼ˆè‡ªåˆ†ã®ã‚¯ãƒ©ã‚¹å¤‰æ•°ã§ã‚ã‚‹ï¼‰ `task` ã‚’æ¸¡ã™
* `TaskListItemComponent` ã¯ã‚¯ãƒ©ã‚¹å¤‰æ•° `task` ã‚’å®£è¨€ã—ã€ã“ã‚Œã« [`@Input()` ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼](https://angular.io/api/core/Input) ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹

ã¨ã„ã†ã“ã¨ã‚’ã—ã¦ã„ã¾ã™ã€‚

ã“ã® `[ç›¸æ‰‹ã®å¤‰æ•°å]="è‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿"` ã§è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘æ¸¡ã™æ©Ÿèƒ½ã®ã“ã¨ã‚’ã€å˜ã«ã€Œãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã€ã€ã‚ã‚‹ã„ã¯ã€ŒåŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã€ã¨å¯¾æ¯”ã—ã¦ã€Œå˜æ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã€ãªã©ã¨å‘¼ã‚“ã ã‚Šã—ã¾ã™ã€‚

> ã¡ãªã¿ã«ã€ã“ã“ã¾ã§ã§ `å˜æ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°` `ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°` `åŒæ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°` ã®3ç¨®é¡ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãŒç™»å ´ã—ã¾ã—ãŸãŒã€ãã‚Œãã‚Œãƒ“ãƒ¥ãƒ¼ã«ãŠã‘ã‚‹è¨˜æ³•ã¯ `[]` `()` `[()]` ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚åˆã‚ã¦ `[(ngModel)]` ã‚’è¦‹ãŸã¨ãã¯ **ã€Œä½•ã ã“ã®é›£è§£ãªè¨˜æ³•ã¯ï¼ã€** ã¨æ€ã£ãŸã¨æ€ã†ã®ã§ã™ãŒğŸ˜…ã€ã“ã†ã—ã¦3ç¨®é¡å‡ºæƒã£ã¦ã¿ã‚‹ã¨ `[]` ã¨ `()` ã®ä¸¡æ–¹ã®æ€§è³ªã‚’å…¼ã­å‚™ãˆã¦ã„ã‚‹ï¼ˆåŒæ–¹å‘ï¼‰ã¨ã„ã†æ„å‘³ãŒã‚ã£ãŸã®ã ã¨åˆ†ã‹ã‚Šã¾ã™ã­ã€‚
>
> ã“ã‚Œã‚‰3ç¨®é¡ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã®å¯¾æ¯”ã¯ã€[ã“ã¡ã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://angular.io/guide/template-syntax#binding-syntax-an-overview) ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ä¸‹è¡¨ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã®ã§å‚è€ƒã¾ã§ã«è²¼ã£ã¦ãŠãã¾ã™ã€‚
>
> ![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftikcrhhvj31vc0u078g.jpg)

## `TaskFormComponent` ã‚’ä½œã‚‹

æœ€å¾Œã‚‚åŒæ§˜ã«

```
ng generate component TaskForm
```

ã§ `TaskFormComponent` ã‚’ä½œæˆã—ã¦ã€ `TaskListComponent` ã®ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã€Œã‚¿ã‚¹ã‚¯è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ã€ã®å®Ÿè£…ã«é–¢ã™ã‚‹éƒ¨åˆ†ã‚’ `TaskFormComponent` ã«ç§»ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

**TaskListComponent**

```diff
  export class TaskListComponent implements OnInit {
  
    constructor() { }
  
    tasks = [
      {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false, deadline: new Date('2021-01-01')},
      {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true, deadline: new Date('2020-01-02')},
      {title: 'éŠ€è¡Œã«è¡Œã', done: false, deadline: new Date('2020-01-03')},
    ];
  
-   newTask = {
-     title: '',
-     deadline: new Date(),
-   };
-  
    ngOnInit(): void {
    }
  
-   addTask() {
-     this.tasks.push({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
-     this.newTask = {
-       title: '',
-       deadline: new Date(),
-     };
-   }
+   addTask(task) {
+     this.tasks.push(task);
+   }
  }
```

```diff
  <ul>
    <li *ngFor="let task of tasks">
      <app-task-list-item [task]="task"></app-task-list-item>
    </li>
    <li>
-     <input type="text" [(ngModel)]="newTask.title">
-     <input type="date" [(ngModel)]="newTask.deadline">
-     <button (click)="addTask()">è¿½åŠ </button>
+     <app-task-form (addTask)="addTask($event)"></app-task-form>
    </li>
  </ul>
-
- newTaskã®å€¤: {{ newTask|json }}
```

**TaskFormComponent**

```diff
- import { Component, OnInit } from '@angular/core';
+ import { Component, EventEmitter, OnInit, Output } from '@angular/core';
  
  @Component({
    selector: 'app-task-form',
    templateUrl: './task-form.component.html',
    styleUrls: ['./task-form.component.scss']
  })
  export class TaskFormComponent implements OnInit {
  
    constructor() { }
  
+   @Output() addTask = new EventEmitter();
+
+   newTask = {
+     title: '',
+     deadline: new Date(),
+   };
+
    ngOnInit(): void {
    }
  
+   submit() {
+     this.addTask.emit({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
+     this.newTask = {
+       title: '',
+       deadline: new Date(),
+     };
+   }
  }
```

```diff
- <p>task-form works!</p>
+ <input type="text" [(ngModel)]="newTask.title">
+ <input type="date" [(ngModel)]="newTask.deadline">
+ <button (click)="submit()">è¿½åŠ </button>
+ <br>newTaskã®å€¤: {{ newTask|json }}
```

æœ€å¾Œã¯ã¾ãŸã¡ã‚‡ã£ã¨é›£ã—ã„ã‚³ãƒ¼ãƒ‰ãŒè‰²ã€…ç™»å ´ã—ã¾ã—ãŸã­ã€‚ è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚

ä»Šå›åˆã‚ã¦è¦‹ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ç®‡æ‰€ã‹ã¨æ€ã„ã¾ã™ã€‚

* `<app-task-form (addTask)="addTask($event)"></app-task-form>`
* `@Output() addTask = new EventEmitter();`
* `this.addTask.emit({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});`

ä¸€è¦‹é›£ã—ãã†ã«è¦‹ãˆã¾ã™ãŒã€

```html
<app-task-form (addTask)="addTask($event)"></app-task-form>
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚‚ã¨ã‚‚ã¨ã®

```html
<button (click)="addTask()">è¿½åŠ </button>
```

ã¨ã¨ã¦ã‚‚ã‚ˆãä¼¼ã¦ã„ã¾ã™ã‚ˆã­ã€‚ã‚‚ã¨ã‚‚ã¨ãŒã€Œ `click` ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç«ã«åˆã‚ã›ã¦ `addTask()` ã‚’å®Ÿè¡Œã™ã‚‹ã€ã¨ã„ã†å‡¦ç†ã ã£ãŸã®ãŒã€ã€Œ `addTask` ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç«ã«åˆã‚ã›ã¦ `addTask($event)` ã‚’å®Ÿè¡Œã™ã‚‹ã€ã«å¤‰ã‚ã£ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚

ã¤ã¾ã‚Šã€ `TaskFormComponent` ãŒ `addTask` ã¨ã„ã†ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã¦ã€ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«ãã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã§ã™ã€‚ï¼ˆ `$event` ã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ï¼‰

`TaskFormComponent` å´ã§ãã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ã„ã‚‹ã®ãŒã€

```ts
@Output() addTask = new EventEmitter();
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

`EventEmitter` ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä»£å…¥ã—ãŸã‚¯ãƒ©ã‚¹å¤‰æ•°  `addTask` ã‚’å®£è¨€ã—ã¦ãŠã‚Šã€ã“ã‚ŒãŒã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç«è£…ç½®ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã« [`@Output()` ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼](https://angular.io/api/core/Output) ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾ã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

ãã—ã¦æœ€å¾Œã«

```ts
this.addTask.emit({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
```

ã“ã®ã‚³ãƒ¼ãƒ‰ãŒã€å®Ÿéš›ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã—ã¦ã„ã¾ã™ã€‚ `EventEmitter` ã‚¯ãƒ©ã‚¹ã® `emit()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶ã“ã¨ã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã•ã›ã€ãã®éš›ã« `{title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)}` ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¤ãƒ™ãƒ³ãƒˆã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æ·»ä»˜ã—ã¦ã„ã¾ã™ã€‚

ã“ã®æ·»ä»˜ã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå´ã§ `$event` ã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãªã®ã§ã€

```html
<app-task-form (addTask)="addTask($event)"></app-task-form>
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã‚¿ã‚¹ã‚¯ã‚’ãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹ã¨ã„ã†æ“ä½œãŒå¯èƒ½ã ã£ãŸã‚ã‘ã§ã™ã€‚

# 5. å‹å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ã«ã™ã‚‹

ä»Šã•ã‚‰ã§ã™ãŒã€Angularã§ã¯TypeScriptã‚’ä½¿ã£ã¦ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚ï¼ˆAngularè‡ªä½“ã‚‚TypeScriptã§æ›¸ã‹ã‚Œã¦ã„ã¾ã™ï¼‰

ã›ã£ã‹ãTypeScriptã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã®ã«ã€ã“ã“ã¾ã§ã«æ›¸ã„ã¦ããŸã‚³ãƒ¼ãƒ‰ã§ã¯ [å‹æ³¨é‡ˆ](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html#type-annotations) ã‚’ã¾ã£ãŸãä½¿ã£ã¦ãã¾ã›ã‚“ã§ã—ãŸã€‚

ã¨ã„ã†ã‚ã‘ã§ã€ã“ã“ã‚‰ã§TypeScriptã®å¼·ã¿ã‚’ç”Ÿã‹ã—ãŸå‹å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ã«ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¢ãƒƒãƒ—ã•ã›ã¦ãŠãã¾ã—ã‚‡ã†ğŸ’ª

## `Task` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹

æ•°å€¤ã‚„æ–‡å­—åˆ—ãªã©ã®ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ã ã‘ã§ãªãã€è‡ªåˆ†ã§å®šç¾©ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚‚å‹ã¨ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚ä»Šå›ã®ã‚¢ãƒ—ãƒªã§ã¯ã€Œã‚¿ã‚¹ã‚¯ã€ãŒé‡è¦ãªæ§‹é€ ã‚’æŒã£ã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¦ãŠãã“ã¨ã«ã—ã¾ã—ã‚‡ã†ã€‚

`src/models/task.ts` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°ã—ãä½œã£ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå†…å®¹ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚

```ts
export interface Task {
  title: string;
  done: boolean;
  deadline: Date;
}
```

## æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã«å‹æ³¨é‡ˆã‚’ä»˜ã‘ã‚‹

ã“ã‚Œã§ `Task` å‹ãŒå®šç¾©ã§ããŸã®ã§ã€æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã«å‹æ³¨é‡ˆã‚’ä»˜ã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

`src/app/task-list/task-list.component.ts`

```diff
  import { Component, OnInit } from '@angular/core';
+ import { Task } from '../../models/task';

  // ...
 
-   tasks = [
+   tasks: Task[] = [
      {title: 'ç‰›ä¹³ã‚’è²·ã†', done: false, deadline: new Date('2021-01-01')},
      {title: 'å¯ç‡ƒã‚´ãƒŸã‚’å‡ºã™', done: true, deadline: new Date('2020-01-02')},
      {title: 'éŠ€è¡Œã«è¡Œã', done: false, deadline: new Date('2020-01-03')},
    ];

    // ...
 
-   addTask(task) {
+   addTask(task: Task): void {
      this.tasks.push(task);
    }
```

`src/app/task-list-item/task-list-item.component.ts`

```diff
  import { Component, Input, OnInit } from '@angular/core';
+ import { Task } from '../../models/task';

  // ...
 
-   @Input() task;
+   @Input() task: Task;

    // ...
 
-   isOverdue(task) {
-     return !task.done && task.deadline < (new Date()).setHours(0, 0, 0, 0);
+   isOverdue(task: Task): boolean {
+     return !task.done && task.deadline.getTime() < (new Date()).setHours(0, 0, 0, 0);
    }
```

`src/app/task-form/task-form.component.ts`

```diff
  import { Component, EventEmitter, OnInit, Output } from '@angular/core';
+ import { Task } from '../../models/task';

  // ...
 
-   @Output() addTask = new EventEmitter();
+   @Output() addTask = new EventEmitter<Task>();

  // ..
-   submit(): {
+   submit(): void {
```

å·®ã—å½“ãŸã‚Šã“ã‚“ãªã¨ã“ã‚ã§ã—ã‚‡ã†ã‹ã€‚

å‹æ³¨é‡ˆã‚’ä»˜ã‘åŠ ãˆã‚‹ä»¥å¤–ã«ã€ä¸€ç®‡æ‰€

```ts
isOverdue(task: Task): boolean {
  return !task.done && task.deadline.getTime() < (new Date()).setHours(0, 0, 0, 0);
}
```

ã“ã®éƒ¨åˆ†ã®ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã‚’åŠ ãˆã¾ã—ãŸã€‚

```diff
- task.deadline < (new Date()).setHours(0, 0, 0, 0);
+ task.deadline.getTime() < (new Date()).setHours(0, 0, 0, 0);
```

å…ƒã®ã‚³ãƒ¼ãƒ‰ã ã¨ `Date` å‹ã¨æ•°å€¤å‹ï¼ˆ[`Date.prototype.setHours()`](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Date/setHours) ã®æˆ»ã‚Šå€¤ï¼‰ã‚’æ¯”è¼ƒã—ã¦ã—ã¾ã£ã¦ã„ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã®ã§ã€ãã¡ã‚“ã¨æ•°å€¤åŒå£«ã®æ¯”è¼ƒã«ãªã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã—ãŸã€‚æ—©é€Ÿã€å‹ã®æ©æµã«é ã‹ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã­ğŸ™

## æœŸæ—¥ãªã—ã®ã‚¿ã‚¹ã‚¯ã‚‚ç™»éŒ²ã§ãã‚‹ã‚ˆã†ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä¿®æ­£ã™ã‚‹

ç¾çŠ¶ã ã¨ã€æœŸæ—¥å…¥åŠ›æ¬„ã‚’ç©ºæ¬„ã®ã¾ã¾ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã™ã‚‹ã¨ã€Œç¾åœ¨æ—¥æ™‚ã€ãŒè¨­å®šã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ä»•æ§˜ã¨ã—ã¦å¾®å¦™ãªã®ã§ã€æœŸæ—¥ãªã—ã®ã‚¿ã‚¹ã‚¯ã‚‚ç™»éŒ²ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚

ã¾ãšã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä¿®æ­£ã—ã¾ã—ã‚‡ã†ã€‚ `deadline` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã« `?` ã‚’ä»˜ã‘ã¦nullableã«ã—ã¾ã™ã€‚

```diff
  export interface Task {
    title: string;
    done: boolean;
-   deadline: Date;
+   deadline?: Date;
  }
```

ãã®ä¸Šã§ã€æœŸæ—¥ãŒå…¥åŠ›ã•ã‚Œãªã‹ã£ãŸã¨ãã¯ç¾åœ¨æ—¥æ™‚ã§ã¯ãªã `null` ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã‚ˆã†ã«ã€ã¾ãŸæœŸæ—¥ã« `null` ãŒå…¥ã£ã¦ã„ã‚‹ã“ã¨ã‚’è€ƒæ…®ã™ã‚‹ã‚ˆã†ã«ã€ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã¾ã™ã€‚

`src/app/task-list-item/task-list-item.component.ts`

```diff
  isOverdue(task: Task): boolean {
-   return !task.done && task.deadline.getTime() < (new Date()).setHours(0, 0, 0, 0);
+   return !task.done && task.deadline && task.deadline.getTime() < (new Date()).setHours(0, 0, 0, 0);
  }
```

`src/app/task-list-item/task-list-item.component.html`

```diff
  <label class="{{ task.done ? 'done' : '' }}">
    <input type="checkbox" [(ngModel)]="task.done">
    {{ task.title }}
-   ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰
+   <span *ngIf="task.deadline">ï¼ˆæœŸæ—¥ï¼š{{ task.deadline|date:'yyyy/MM/dd' }}ï¼‰</span>
    <span *ngIf="isOverdue(task)" class="overdue">æœŸæ—¥è¶…é</span>
  </label>
```

`src/app/task-form/task-form.component.ts`

```diff
  newTask = {
    title: '',
-   deadline: new Date(),
+   deadline: null,
  };

  // ...

  submit(): void {
-   this.addTask.emit({title: this.newTask.title, done: false, deadline: new Date(this.newTask.deadline)});
+   this.addTask.emit({
+     title: this.newTask.title,
+     done: false,
+     deadline: this.newTask.deadline ? new Date(this.newTask.deadline) : null,
+   });
    this.newTask = {
      title: '',
-     deadline: new Date(),
+     deadline: null,
    };
  }
```

ã“ã‚Œã§ã€ä¸‹å›³ã®ã¨ãŠã‚ŠæœŸæ—¥ãªã—ã®ã‚¿ã‚¹ã‚¯ã‚‚ç™»éŒ²ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ‘

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gftvbuybk0g30er06wtb3.gif)

å‹æ³¨é‡ˆã‚’ä»˜ã‘ã¦ãŠã‘ã°ã€ã“ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å¤‰æ›´ã‚‚å®‰å¿ƒã—ã¦è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã­ã€‚
