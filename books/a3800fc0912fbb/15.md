---
title: "#[ORM\\Embedded]ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚‹å ´åˆã®æ³¨æ„ç‚¹"
---

# æŠ•ç¨¿ã« `#[ORM\Embedded]` ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã¿ã‚‹

ã¾ãŸã¾ãŸå”çªã§ã™ãŒã€ã“ã“ã§æŠ•ç¨¿ã«1ã¤ä»•æ§˜ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚

`Author` ã¨ã„ã† `#[ORM\Embeddable]` ãªValueObjectã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã€`Post` ã« `author` ã¨ã„ã† `#[ORM\Embedded]` ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```php:src/Entity/Post/Author.php
<?php

declare(strict_types=1);

namespace App\Entity\Post;

use Doctrine\ORM\Mapping as ORM;
use Symfony\Component\Validator\Constraints as Assert;

#[ORM\Embeddable]
class Author
{
    #[ORM\Column(type: 'string', length: 255)]
    #[Assert\NotBlank]
    private string $name = '';

    #[ORM\Column(type: 'date')]
    #[Assert\NotBlank]
    private ?\DateTimeInterface $birthDate = null;

    public function getName(): string
    {
        return $this->name;
    }

    public function setName(string $name): self
    {
        $this->name = $name;

        return $this;
    }

    public function getBirthDate(): ?\DateTimeInterface
    {
        return $this->birthDate;
    }

    public function setBirthDate(\DateTimeInterface $birthDate): self
    {
        $this->birthDate = $birthDate;

        return $this;
    }
}
```

```diff
  <?php

  declare(strict_types=1);

  namespace App\Entity;

+ use App\Entity\Post\Author;
  use App\Repository\PostRepository;
  use Doctrine\Common\Collections\ArrayCollection;
  use Doctrine\Common\Collections\Collection;
  use Doctrine\ORM\Mapping as ORM;
  use Symfony\Component\Validator\Constraints as Assert;

  #[ORM\Entity(repositoryClass: PostRepository::class)]
  class Post
  {
      #[ORM\Id]
      #[ORM\GeneratedValue]
      #[ORM\Column(type: 'integer')]
      private ?int $id = null;

      #[ORM\Column(type: 'string', length: 255)]
      #[Assert\NotBlank]
      private string $title = '';

      #[ORM\Column(type: 'text', nullable: true)]
      private ?string $body = null;
+
+     #[ORM\Embedded(class: Author::class)]
+     #[Assert\Valid]
+     private Author $author;

      /**
       * @var Collection<int, Comment>
       */
      #[ORM\OneToMany(mappedBy: 'post', targetEntity: Comment::class, orphanRemoval: true)]
      private Collection $comments;

      public function __construct()
      {
+         $this->author = new Author();
          $this->comments = new ArrayCollection();
      }

      // ...
+
+     public function getAuthor(): Author
+     {
+         return $this->author;
+     }
+
+     public function setAuthor(Author $author): self
+     {
+         $this->author = $author;
+
+         return $this;
+     }

      // ...
  }
```

ã“ã®ã‚ˆã†ã«ä¿®æ­£ã—ã€DBã‚’ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ãŸä¸Šã§ `POST /api/v1/posts` ã§æŠ•ç¨¿ã‚’ä½œæˆã™ã‚‹ã¨ã€ä¸‹å›³ã®ã‚ˆã†ã«å‹•ä½œã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/7cd3b86953e2-20220506.png)

æœŸå¾…ã©ãŠã‚Šã§ã™ã­ã€‚

# ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã« `openapi_context` ã‚’è¨­å®šã™ã‚‹

ã•ã‚‰ã«è„ˆçµ¡ã®ãªã•ãã†ãªè©±ãŒç¶šãã¾ã™ãŒã‚‚ã†å°‘ã—ãŠä»˜ãåˆã„ãã ã•ã„ã€‚

ã“ã‚Œã¾ã§ã«ä½•åº¦ã‹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®šç¾©ã« `openapi_context`ï¼ˆç‰¹ã« `openapi_context.description`ï¼‰ã‚’è¨˜è¿°ã—ã¦API Docã®å‡ºåŠ›å†…å®¹ã‚’åˆ¶å¾¡ã™ã‚‹ã¨ã„ã†ã“ã¨ã‚’ã‚„ã£ã¦ãã¾ã—ãŸã€‚

åŒæ§˜ã«ã€APIãƒªã‚½ãƒ¼ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã—ã¦ã‚‚ `openapi_context` ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

è©¦ã—ã« `Post` `Comment` ã®å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã« `openapi_context.description` ã‚’å®šç¾©ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

æ›¸ãæ–¹ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚

```diff:config/packages/api_platform/Post.yaml
  App\Entity\Post:
    attributes:
      route_prefix: /v1
+
+   properties:
+     title:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿ã®ã‚¿ã‚¤ãƒˆãƒ«
+     body:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿ã®æœ¬æ–‡
+     comments:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ

      # ...
```

```diff:config/packages/api_platform/Comment.yaml
  App\Entity\Comment:
    attributes:
      route_prefix: /v1
+
+   properties:
+     post:
+       attributes:
+         openapi_context:
+           description: ã‚³ãƒ¡ãƒ³ãƒˆå…ˆã®æŠ•ç¨¿
+     body:
+       attributes:
+         openapi_context:
+           description: ã‚³ãƒ¡ãƒ³ãƒˆã®æœ¬æ–‡
+     isBanned:
+       attributes:
+         openapi_context:
+           description: BANã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹

      # ...
```

ã“ã®ã‚ˆã†ã« `properties.{ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å}.attribuets` ã®ä¸‹ã« `openapi_context` ã®å®šç¾©ã‚’æ›¸ãã¾ã™ã€‚

ã“ã‚Œã§ã€ä¸‹å›³ã®ã‚ˆã†ã«API Docã«ãŠã„ã¦å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«descriptionãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/c420dfa3521b-20220506.png)

![](https://storage.googleapis.com/zenn-user-upload/e42cbb43c694-20220506.png)

# `#[ORM\Embedded]` ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã® `openapi_context`

ã•ã¦ã€ã“ã“ã‹ã‚‰æœ¬ç« ã®æœ¬é¡Œã«å°‘ã—ãšã¤è¿«ã£ã¦ã„ãã¾ã™ã€‚

å…ˆã»ã© `Post` ã®å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ä»¥ä¸‹ã®ã‚ˆã†ã« `openapi_context` ã‚’è¨­å®šã—ã¾ã—ãŸãŒã€

```diff:config/packages/api_platform/Post.yaml
  App\Entity\Post:
    attributes:
      route_prefix: /v1
+
+   properties:
+     title:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿ã®ã‚¿ã‚¤ãƒˆãƒ«
+     body:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿ã®æœ¬æ–‡
+     comments:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ

      # ...
```

`Post` ã«ã¯ã‚‚ã†1ã¤ `author` ã¨ã„ã† `#[ORM\Embedded]` ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã€ãã®å†…éƒ¨ã« `author.name` `author.birthDate` ã¨ã„ã†æœ«ç«¯ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã¾ã™ã‚ˆã­ã€‚

ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã® `openapi_context` ã‚’å®šç¾©ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ

ç›´æ„Ÿçš„ã«ã¯ã€

```diff:config/packages/api_platform/Post.yaml
  App\Entity\Post:
    attributes:
      route_prefix: /v1

    properties:
      title:
        attributes:
          openapi_context:
            description: æŠ•ç¨¿ã®ã‚¿ã‚¤ãƒˆãƒ«
      body:
        attributes:
          openapi_context:
            description: æŠ•ç¨¿ã®æœ¬æ–‡
+     author.name:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿è€…ã®åå‰
+     author.birthDate:
+       attributes:
+         openapi_context:
+           description: æŠ•ç¨¿è€…ã®ç”Ÿå¹´æœˆæ—¥
      comments:
        attributes:
          openapi_context:
            description: æŠ•ç¨¿ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ

      # ...
```

ã“ã‚“ãªæ„Ÿã˜ã§è¨­å®šã‚’æ›¸ããŸããªã‚Šã¾ã™ãŒã€æ®‹å¿µãªãŒã‚‰ã“ã†ã„ã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

ã¨ã„ã†ã‹ã€å®Ÿã¯ **APIãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©ã‚’YAMLã§æ›¸ã„ã¦ã„ã‚‹å ´åˆã€`#[ORM\Embedded]` ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã—ã¦ã¯è¨­å®šã‚’æ›¸ãã“ã¨è‡ªä½“ãŒã§ãã¾ã›ã‚“ã€‚**

* YAMLã«ã‚ˆã‚‹å®šç¾©ã«ãŠã„ã¦ã¯ã€[APIãƒªã‚½ãƒ¼ã‚¹ã‚’å®šç¾©ã›ãšã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã ã‘ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒä¸å¯èƒ½](https://github.com/api-platform/core/blob/v2.6.8/src/Metadata/Extractor/YamlExtractor.php#L53-L87)
* `#[ORM\Embeddable]` ãªã‚¯ãƒ©ã‚¹ã‚’APIãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€idãŒãªã„ãŸã‚ `No identifier defined in "App\Entity\Author"` ã¨ã„ã£ãŸã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

ã¨ã„ã†ã®ãŒã§ããªã„æ ¹æ‹ ã§ã™ã€‚

ã—ãŸãŒã£ã¦ã€`#[ORM\Embedded]` ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã—ã¦ `openapi_context` ã‚’å®šç¾©ã—ãŸã„å ´åˆã¯ã€**ãã‚Œã‚‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã™ã‚‹å®šç¾©ã®ã¿ [`#[ApiProperty]` ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã«ã‚ˆã£ã¦è¨˜è¿°ã™ã‚‹](https://api-platform.com/docs/core/openapi/#using-the-openapi-and-swagger-contexts)** ã¨ã„ã†ãªã‚“ã¨ã‚‚æ®‹å¿µãªå¯¾å¿œã‚’ã¨ã‚‹ã—ã‹ã‚ã‚Šã¾ã›ã‚“ğŸ˜“

å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚

```diff:src/Entity/Post/Author.php
  <?php

  declare(strict_types=1);

  namespace App\Entity\Post;

+ use ApiPlatform\Core\Annotation\ApiProperty;
  use Doctrine\ORM\Mapping as ORM;
  use Symfony\Component\Validator\Constraints as Assert;

  #[ORM\Embeddable]
  class Author
  {
      #[ORM\Column(type: 'string', length: 255)]
      #[Assert\NotBlank]
+     #[ApiProperty(attributes: [
+         'openapi_context' => [
+             'description' => 'æŠ•ç¨¿è€…ã®åå‰',
+         ],
+     ])]
      private string $name = '';

      #[ORM\Column(type: 'date')]
      #[Assert\NotBlank]
+     #[ApiProperty(attributes: [
+         'openapi_context' => [
+             'description' => 'æŠ•ç¨¿è€…ã®ç”Ÿå¹´æœˆæ—¥',
+         ],
+     ])]
      private ?\DateTimeInterface $birthDate = null;

      public function getName(): string
      {
          return $this->name;
      }

      public function setName(string $name): self
      {
          $this->name = $name;

          return $this;
      }

      public function getBirthDate(): ?\DateTimeInterface
      {
          return $this->birthDate;
      }

      public function setBirthDate(\DateTimeInterface $birthDate): self
      {
          $this->birthDate = $birthDate;

          return $this;
      }
  }
```

ã“ã‚Œã§ã€ï¼ˆå½“ç„¶ã®ã“ã¨ãªãŒã‚‰ï¼‰ä¸‹å›³ã®ã‚ˆã†ã« `author.name` `author.birthDate` ã«ã‚‚descriptionãŒå‡ºåŠ›ã•ã‚Œã¾ã—ãŸã€‚

![](https://storage.googleapis.com/zenn-user-upload/02b972ba23b0-20220506.png)

# `author.birthDate` ã®OpenAPIã«ãŠã‘ã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ `date` ã«å¤‰æ›´ã™ã‚‹

ã“ã“ã§ã€`GET /api/v1/posts/latest` ç­‰ã®API Docã‚’æ”¹ã‚ã¦ã‚ˆãè¦‹ã¦ã¿ã‚‹ã¨ã€ä¸‹å›³ã®ã‚ˆã†ã« `author.birthDate` ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒ `date-time` ã«ãªã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/bcec1a43e340-20220506.png)

API Platformã§ã¯ã€PHPã‚¯ãƒ©ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹ã‹ã‚‰è‡ªå‹•ã§OpenAPIã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹ï¼ˆãŠã‚ˆã³stringå‹ã®å ´åˆã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰ã‚’è¨­å®šã—ã¦ãã‚Œã¾ã™ã€‚

`Author::$birthDate` ã¯å‹ãŒ `\DateTimeInterface` ãªã®ã§ã€ãã“ã‹ã‚‰é¡æ¨ã—ã¦OpenAPIã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹ã‚‚è‡ªå‹•ã§ `string ($date-time)` ã¨å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ã­ã€‚

ã—ã‹ã—ã€`Author::$birthDate` ã¯ `\DateTimeInterface` å‹ã§ã¯ã‚ã‚Šã¾ã™ãŒã€æ„å›³ã—ã¦ã„ã‚‹ç”¨é€”ã¨ã—ã¦ã¯æ™‚åˆ»ã«é–¢çŸ¥ã—ãªã„ã€Œæ—¥ä»˜ã€ã¨ã—ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚ã‚Šã€DBAL Typeã‚‚ `'date'` ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

ãªã®ã§ã€API Docã«å®Ÿè£…ã®æ„å›³ã‚’æ­£ã—ãåæ˜ ã™ã‚‹ãªã‚‰ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ `date-time` ã§ã¯ãªã [`date`](https://swagger.io/specification/#:~:text=boolean-,string,As%20defined%20by%20full%2Ddate%20%2D%20RFC3339,-string) ã¨ãªã£ã¦ã„ã‚‹ã¹ãã§ã™ã€‚

ã“ã®ã‚ˆã†ãªå ´åˆã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã® `openapi_context` ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

`author.birthDate` ã¯ `#[ORM\Embedded]` ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãªã®ã§ã€å‰ç¯€ã§èª¬æ˜ã—ãŸã¨ãŠã‚ŠYAMLãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ `openapi_context` ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

å…ˆã»ã©ã«å¼•ãç¶šãã€`Author` ã‚¯ãƒ©ã‚¹å†…ã® `#[ApiProperty]` ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã§è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```diff:src/Entity/Post/Author.php
  #[ORM\Column(type: 'date')]
  #[Assert\NotBlank]
  #[ApiProperty(attributes: [
      'openapi_context' => [
          'description' => 'æŠ•ç¨¿è€…ã®ç”Ÿå¹´æœˆæ—¥',
+         'format' => 'date',
      ],
  ])]
  private ?\DateTimeInterface $birthDate = null;
```

ã“ã‚Œã§ã€ä¸‹å›³ã®ã¨ãŠã‚Šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ `date` ã«å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸğŸ‘

![](https://storage.googleapis.com/zenn-user-upload/3eabd25417ec-20220506.png)

# ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®descriptionã«ã¯Docã‚³ãƒ¡ãƒ³ãƒˆãŒè‡ªå‹•ã§åæ˜ ã•ã‚Œã‚‹

ã¡ãªã¿ã«ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®descriptionã¯ã‚ã–ã‚ã– `openapi_context.description` ã«æ›¸ã‹ãšã¨ã‚‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¯ãƒ©ã‚¹å†…ã«Docã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã‘ã°ãã‚ŒãŒè‡ªå‹•ã§åæ˜ ã•ã‚Œã¾ã™ã€‚å€‹äººçš„ã«ã¯ã“ã¡ã‚‰ã®ã»ã†ãŒã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚‚ä¸ŠãŒã£ã¦ä¸€çŸ³äºŒé³¥ãªã®ã§ãŠã™ã™ã‚ã§ã™ã€‚

```diff:config/packages/api_platform/Post.yaml
  App\Entity\Post:
    attributes:
      route_prefix: /v1
-
-   properties:
-     title:
-       attributes:
-         openapi_context:
-           description: æŠ•ç¨¿ã®ã‚¿ã‚¤ãƒˆãƒ«
-     body:
-       attributes:
-         openapi_context:
-           description: æŠ•ç¨¿ã®æœ¬æ–‡
-     comments:
-       attributes:
-         openapi_context:
-           description: æŠ•ç¨¿ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ

    # ...
```

```diff:config/packages/api_platform/Comment.yaml
  App\Entity\Comment:
    attributes:
      route_prefix: /v1
-
-   properties:
-     post:
-       attributes:
-         openapi_context:
-           description: ã‚³ãƒ¡ãƒ³ãƒˆå…ˆã®æŠ•ç¨¿
-     body:
-       attributes:
-         openapi_context:
-           description: ã‚³ãƒ¡ãƒ³ãƒˆã®æœ¬æ–‡
-     isBanned:
-       attributes:
-         openapi_context:
-           description: BANã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹

    # ...
```

```diff:src/Entity/Post.php
+ /**
+  * æŠ•ç¨¿ã®ã‚¿ã‚¤ãƒˆãƒ«
+  */
  #[ORM\Column(type: 'string', length: 255)]
  #[Assert\NotBlank]
  private string $title = '';

+ /**
+  * æŠ•ç¨¿ã®æœ¬æ–‡
+  */
  #[ORM\Column(type: 'text', nullable: true)]
  private ?string $body = null;

  #[ORM\Embedded(class: Author::class)]
  #[Assert\Valid]
  private Author $author;

  /**
+  * æŠ•ç¨¿ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ
+  *
   * @var Collection<int, Comment>
   */
  #[ORM\OneToMany(mappedBy: 'post', targetEntity: Comment::class, orphanRemoval: true)]
  private Collection $comments;
```

```diff:src/Entity/Post/Author.php
+ /**
+  * æŠ•ç¨¿è€…ã®åå‰
+  */
  #[ORM\Column(type: 'string', length: 255)]
  #[Assert\NotBlank]
- #[ApiProperty(attributes: [
-     'openapi_context' => [
-         'description' => 'æŠ•ç¨¿è€…ã®åå‰',
-     ],
- ])]
  private string $name = '';

+ /**
+  * æŠ•ç¨¿è€…ã®ç”Ÿå¹´æœˆæ—¥
+  */
  #[ORM\Column(type: 'date')]
  #[Assert\NotBlank]
  #[ApiProperty(attributes: [
      'openapi_context' => [
-         'description' => 'æŠ•ç¨¿è€…ã®ç”Ÿå¹´æœˆæ—¥',
          'format' => 'date',
      ],
  ])]
  private ?\DateTimeInterface $birthDate = null;
```

```diff:src/Entity/Comment.php
+ /**
+  * ã‚³ãƒ¡ãƒ³ãƒˆå…ˆã®æŠ•ç¨¿
+  */
  #[ORM\ManyToOne(targetEntity: Post::class, inversedBy: 'comments')]
  #[ORM\JoinColumn(nullable: false)]
  #[Assert\NotBlank]
  private ?Post $post = null;

+ /**
+  * ã‚³ãƒ¡ãƒ³ãƒˆã®æœ¬æ–‡
+  */
  #[ORM\Column(type: 'text')]
  #[Assert\NotBlank]
  private string $body = '';

+ /**
+  * BANã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹
+  */
  #[ORM\Column(type: 'boolean')]
  private bool $isBanned = false;
```

ä¸Šè¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¦ã‚‚ã€å‡ºåŠ›ã•ã‚Œã‚‹API Docã¯ã¾ã£ãŸãå¤‰ã‚ã‚Šã¾ã›ã‚“ğŸ‘Œ

ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã™ã‚‹ `openapi_context` ã®è¨­å®šæ–¹æ³•ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€

[API Platform: OpenAPI Specification Support (formerly Swagger) `#using-the-openapi-and-swagger-contexts`](https://api-platform.com/docs/core/openapi/#using-the-openapi-and-swagger-contexts)

ãŠã‚ˆã³OpenAPIã®ä»•æ§˜

[OpenAPI Specification - Version 3.0.3 | Swagger](https://swagger.io/specification/)

ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
