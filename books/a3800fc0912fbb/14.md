---
title: "URIãƒ‘ã‚¹ã‚’lowerCamelCaseã«å¤‰æ›´ã™ã‚‹"
---

# URIãƒ‘ã‚¹ã¯snake_case

ã•ã¦ã€ãã‚ãã‚æœ¬æ›¸ã‚‚ç· ã‚ããã‚ŠãŒè¿‘ã¥ã„ã¦ãã¾ã—ãŸã€‚

æœ€å¾Œã«ãŠã¾ã‘ã§ã‚‚ã†1ã¤ã€å¤šãã®å ´åˆã«å®Ÿè£…ã™ã‚‹ã“ã¨ã«ãªã‚‹ã§ã‚ã‚ã†å¯¾å¿œã«ã¤ã„ã¦è§£èª¬ã—ã¦ãŠãã¾ã™ã€‚

API PlatformãŒè‡ªå‹•ã§ä½œæˆã—ã¦ãã‚Œã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®URIãƒ‘ã‚¹ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ **snake_case** ã¨ãªã‚Šã¾ã™ã€‚

è©¦ã—ã«å®Ÿé¨“ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```php:src/Entity/SampleResource.php
<?php

declare(strict_types=1);

namespace App\Entity;

class SampleResource
{
    public int $id;
}
```

ã“ã®ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦ã€

```yaml:config/packages/api_platform/SampleResource.yaml
resources:
  App\Entity\SampleResource:
    routePrefix: /v1
```

ã“ã®ã‚ˆã†ã«APIãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚

ã“ã®çŠ¶æ…‹ã§API Docã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€

![](https://storage.googleapis.com/zenn-user-upload/feca2ffccdd1-20220506.png)

ã“ã®ã‚ˆã†ã«ã€ç¢ºã‹ã«URIãƒ‘ã‚¹ã¯snake_caseã«ãªã£ã¦ã„ã¾ã™ã€‚

# ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã¯lowerCamelCase

ã—ã‹ã—ãªãŒã‚‰ã€ã“ã‚Œã¾ã§è¦‹ã¦ããŸã‚ˆã†ã«ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã¯PHPã‚¯ãƒ©ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åãŒãã®ã¾ã¾ä½¿ã‚ã‚Œã‚‹ãŸã‚ **lowerCamelCase** ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚

å€‹äººçš„ã«ã¯ã€ã“ã®ã‚®ãƒ£ãƒƒãƒ—ã«ã¤ã„ã¦ã®èªçŸ¥è² è·ã¯ç„¡é§„ãªã®ã§ã€ã©ã¡ã‚‰ã‹ã«çµ±ä¸€ã™ã‚‹ã®ãŒå¥½ã¾ã—ã„ã¨è€ƒãˆã¾ã™ã€‚

# URIãƒ‘ã‚¹ã‚’lowerCamelCaseã«å¤‰æ›´ã™ã‚‹

ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã®å‘½åè¦å‰‡ã¯ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã®åˆ¶ç´„ã‚‚ã‚ã£ã¦å¤‰ãˆã«ãã„ã®ã§ã€ã“ã“ã§ã¯ **URIãƒ‘ã‚¹ã®ã»ã†ã‚’lowerCamelCaseã«å¤‰æ›´ã™ã‚‹** ã“ã¨ã«ã—ã¾ã—ã‚‡ã†ã€‚

URIãƒ‘ã‚¹ã®å‘½åè¦å‰‡ã®å¤‰æ›´æ–¹æ³•ã¯ä»¥ä¸‹ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚

[Operation Path Naming - API Platform](https://api-platform.com/docs/core/operation-path-naming/)

ã“ã‚Œã‚’å‚è€ƒã«ã€ä»¥ä¸‹ã®ã‚ˆã†ãª `LowerCamelCasePathSegmentNameGenerator` ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã—ã¾ã—ã‚‡ã†ã€‚

```php:src/ApiPlatform/LowerCamelCasePathSegmentNameGenerator.php
<?php

declare(strict_types=1);

namespace App\ApiPlatform;

use ApiPlatform\Core\Operation\PathSegmentNameGeneratorInterface;
use ApiPlatform\Core\Util\Inflector;

class LowerCamelCasePathSegmentNameGenerator implements PathSegmentNameGeneratorInterface
{
    public function getSegmentName(string $name, bool $collection = true): string
    {
        $name = lcfirst($name);

        return $collection ? Inflector::pluralize($name) : $name;
    }
}
```

> `ApiPlatform\Core\Util\Inflector` ã¯ `@internal` ãƒãƒ¼ã‚¯ã•ã‚Œã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ãªã®ã§å¤–éƒ¨ã‹ã‚‰åˆ©ç”¨ã™ã‚‹ã®ã¯ãƒãƒŠãƒ¼é•åã§ã™ãŒã€è‡ªå‰ã§å®Ÿè£…ã™ã‚‹ã®ãŒé¢å€’ã ã£ãŸã®ã§ãŠè¨±ã—ãã ã•ã„â€¦

ã“ã‚Œã‚’ã€`config/services.yaml` ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦å®šç¾©ã—ã€

```yaml
services:
    App\ApiPlatform\LowerCamelCasePathSegmentNameGenerator: ~
```

æœ€å¾Œã« `config/packages/api_platform.yaml` ã§ä»¥ä¸‹ã®ã‚ˆã†ã«ä¸Šè¨˜ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†è¨­å®šã™ã‚Œã°å®Œäº†ã§ã™ã€‚

```diff
  api_platform:
      mapping:
          paths:
              - '%kernel.project_dir%/src/Entity'
              - '%kernel.project_dir%/config/packages/api_platform'
      patch_formats:
          json: ['application/merge-patch+json']
      swagger:
          versions: [3]
+     path_segment_name_generator: App\ApiPlatform\LowerCamelCasePathSegmentNameGenerator
```

ã“ã®çŠ¶æ…‹ã§å†åº¦API Docã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ä¸‹å›³ã®ã¨ãŠã‚ŠlowerCamelCaseã«å¤‰æ›´ã§ãã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ğŸ‘Œ

![](https://storage.googleapis.com/zenn-user-upload/30db2b38d062-20220506.png)
