---
title: "[Flutter] 1ç”»é¢ã«2ã¤ä»¥ä¸Šã®FloatingActionButtonã‚’è¡¨ç¤ºã™ã‚‹"
emoji: "ğŸ’»"
type: "tech"
topics: ["flutter"]
published: true
published_at: 2020-07-03
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-07-03ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

# ã‚„ã‚ŠãŸã„ã“ã¨

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1ggdutk13hrj30ks10yjsi.jpg)

Flutterã§ã“ã‚“ãªæ„Ÿã˜ã® `FloatingActionButotn` ãŒè¤‡æ•°ã‚ã‚‹ç”»é¢ã‚’ä½œã‚Šã¾ã™ã€‚

# ã‚„ã‚Šæ–¹

`Scaffold` ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã® `floatingActionButton` ã« `Row` ãªã©ã‚’æ¸¡ã›ã°OKã§ã™ã€‚

å¼•æ•°åã ã‘è¦‹ã‚‹ã¨ `FloatingActionButton` ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã—ã‹æ¸¡ã›ãªã„ã‚ˆã†ã«æ€ã‚ã‚Œã¾ã™ãŒã€å®Ÿã¯ [Widgetå‹ãªã‚‰ãªã‚“ã§ã‚‚æ¸¡ã›ã¾ã™](https://github.com/flutter/flutter/blob/462b0ea76eca028a7776f60a20a05ebce30dfdbd/packages/flutter/lib/src/material/scaffold.dart#L1093)ã€‚

ä¸Šè¨˜ã®ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ã®ã‚ˆã†ãªä¾‹ãªã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§å®Ÿè£…ã§ãã¾ã™âœ‹

```dart
@override
Widget build(BuildContext context) {
  return Scaffold(
    appBar: AppBar(
      title: Text('ã‚¿ã‚¤ãƒˆãƒ«'),
    ),
    body: _buildList(),
    floatingActionButton: Row(
      mainAxisSize: MainAxisSize.min,
      children: [
        Container(
          margin: EdgeInsets.only(right: 12),
          child: FloatingActionButton(
            heroTag: 'clear', // (*)
            onPressed: () => _clear(),
            child: Icon(Icons.delete),
            backgroundColor: Colors.red[500],
          ),
        ),
        FloatingActionButton(
          heroTag: 'check', // (*)
          onPressed: () => _check(),
          child: Icon(Icons.check),
        ),
      ],
    ),
  );
}
```

ã‚³ãƒ¼ãƒ‰ä¸­ã« `// (*)` ã¨ã‚³ãƒ¡ãƒ³ãƒˆã—ãŸç®‡æ‰€ãŒãƒã‚¤ãƒ³ãƒˆã§ã€[1ç”»é¢ã«è¤‡æ•°ã® `FloatingActoinButton` ã‚’è¨­ç½®ã™ã‚‹å ´åˆã¯ãã‚Œãã‚Œã« `heroTag` ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™](https://github.com/flutter/flutter/blob/462b0ea76eca028a7776f60a20a05ebce30dfdbd/packages/flutter/lib/src/material/floating_action_button.dart#L283-L288)ã€‚

ã“ã‚ŒãŒãªã„ã¨ã€ç”»é¢ã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨ã—ãŸé€”ç«¯ã«ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1ggdv88x8qzj30ko10wdgg.jpg)

```
â•â•â•â•â•â•â•â• Exception caught by scheduler library â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following assertion was thrown during a scheduler callback:
There are multiple heroes that share the same tag within a subtree.

Within each subtree for which heroes are to be animated (i.e. a PageRoute subtree), each Hero must have a unique non-null tag.
In this case, multiple heroes had the following tag: <default FloatingActionButton tag>
Here is the subtree for one of the offending heroes: Hero
    tag: <default FloatingActionButton tag>
    state: _HeroState#1142d
When the exception was thrown, this was the stack
#0      Hero._allHeroesFor.inviteHero.<anonymous closure> 
package:flutter/â€¦/widgets/heroes.dart:266
#1      Hero._allHeroesFor.inviteHero 
package:flutter/â€¦/widgets/heroes.dart:277
#2      Hero._allHeroesFor.visitor 
package:flutter/â€¦/widgets/heroes.dart:296
#3      SingleChildRenderObjectElement.visitChildren 
package:flutter/â€¦/widgets/framework.dart:5821
#4      Hero._allHeroesFor.visitor 
package:flutter/â€¦/widgets/heroes.dart:309
...
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

# å‚è€ƒãƒªãƒ³ã‚¯

* [Flutterã§2ã¤ã®FloatingActionButtonã‚’è¡¨ç¤ºã™ã‚‹æ–¹æ³• - Qiita](https://qiita.com/sekitaka_1214/items/351980e7b354c7e3859e)
* [[Flutter]ç”»é¢é·ç§»ã§èµ·ããŸã‚¨ãƒ©ãƒ¼ - Qiita](https://qiita.com/reiji_matsumura/items/c07e95b5793d943229e3)
