---
title: "[Symfony] EasyAdminBundleã§ãƒã‚¹ãƒˆã—ãŸFormTypeã‚’ä½¿ã£ãŸã¨ãã®è¦‹ãŸç›®ã®èª¿æ•´"
emoji: "ğŸ»"
type: "tech"
topics: ["php", "symfony"]
published: true
published_at: 2020-05-28
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-05-28ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

# EasyAdminBundleã§ãƒã‚¹ãƒˆã—ãŸFormTypeã‚’ä½¿ã£ãŸã‚‰ã‚¤ãƒã‚¤ãƒãªè¦‹ãŸç›®ã«ãªã£ãŸ

å°ãƒã‚¿ã§ã™ã€‚

EasyAdminBundleã§ãƒã‚¹ãƒˆã—ãŸFormTypeã‚’ä½¿ã£ãŸã‚‰ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒã‚¤ãƒãªè¦‹ãŸç›®ã«ãªã‚Šã¾ã—ãŸã€‚

å…·ä½“çš„ã«ã¯ã€

* ä½æ‰€ã‚’å…¥åŠ›ã™ã‚‹ãŸã‚ã® `AddressType` ã¨ã„ã†FormTypeãŒã‚ã‚‹
* EasyAdminBundleã®ãƒ•ã‚©ãƒ¼ãƒ ç”»é¢ã§ `AddressType` ã‚’ä½¿ã†

ã¨ã„ã†ã“ã¨ã‚’ã—ã¾ã—ãŸã€‚ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

```php
class AddressType extends AbstractType
{
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder
            ->add('zipCode', TextType::class, [
                'label' => 'éƒµä¾¿ç•ªå·',
            ])
            ->add('prefecture', TextType::class, [
                'label' => 'éƒ½é“åºœçœŒ',
            ])
            ->add('city', TextType::class, [
                'label' => 'å¸‚åŒºéƒ¡',
            ])
            ->add('line1', TextType::class, [
                'label' => 'ç•ªåœ°ã¾ã§',
            ])
            ->add('line2', TextType::class, [
                'label' => 'å»ºç‰©åãƒ»å·å®¤',
            ])
        ;
    }
}
```

```yaml
# config/packages/easy_admin.yaml
easy_admin:
  entities:
    Foo:
      form:
        fields:
          # ... ç•¥
          - { property: address, label: ä½æ‰€, type: App\Form\AddressType }
          # ... ç•¥
```

ã“ã‚Œã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè¦‹ãŸç›®ã«ãªã‚Šã¾ã—ãŸã€‚

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gf8anvwq9zj30ra1hgmzi.jpg)

ã‚¤ãƒã‚¤ãƒã§ã™ã€‚

# ã„ã„æ„Ÿã˜ã«ã™ã‚‹ã«ã¯

ã¯ã˜ã‚ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ‹¡å¼µã—ã‚ˆã†ã‹ã¨ã‹è‰²ã€…é›£ã—ãè€ƒãˆã¦ã—ã¾ã£ãŸã®ã§ã™ãŒã€ã‚ˆãè€ƒãˆãŸã‚‰ **å­ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ©ãƒ™ãƒ«ã‚’CSSã§å·¦ã«å¯„ã›ã‚‹ã ã‘ã§ååˆ†ãªè¦‹ãŸç›®ã«ãªã‚‹ã˜ã‚ƒã‚“** ã¨ã„ã†ã“ã¨ã«æ°—ä»˜ãã¾ã—ãŸã€‚

ã¨ã„ã†ã‚ã‘ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªCSSã‚’æ›¸ã„ã¦ã€

```css
body.easyadmin.new .form-group .form-group label,
body.easyadmin.edit .form-group .form-group label {
  text-align: left;
}
```

EasyAdminBundleã«èª­ã¿è¾¼ã¾ã›ã¾ã—ãŸã€‚

```yaml
# config/packages/easy_admin.yaml
easy_admin:
  design:
    assets:
      css:
        - /path/to/easy_admin.css
```

ã“ã‚Œã§ã€è¦‹ãŸç›®ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gf8atk9wncj30ra1hgq59.jpg)

ã‚¶ãƒ»ååˆ†ï¼ğŸ™Œ

# ã¾ã¨ã‚

ä½•äº‹ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã«è€ƒãˆã‚‹ã®ã¯å¤§äº‹ã§ã™ã­ã€‚

# ä½™è«‡

EasyAdminBundleã«èª­ã¿è¾¼ã¾ã›ã‚‹cssã¯å›ºå®šã®URLãƒ‘ã‚¹ã§ã—ã‹æŒ‡å®šã§ããªã„ï¼ˆwebpack-encoreã«ã‚ˆã£ã¦ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã•ã‚ŒãŸã‚¢ã‚»ãƒƒãƒˆã¯æŒ‡å®šã§ããªã„ï¼‰ã®ã§ã€scssç­‰ã¯ä½¿ã‚ãšç”Ÿcssã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚

åƒ•ã®å ´åˆã¯ `assets/statics` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ã€ãã“ã«ç½®ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ `public/build` ç›´ä¸‹ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

```js
// webpack.config.js
Encore
  .copyFiles({
    from: './assets/statics/',
    to: '/[path][name].[ext]',
  })
```

```css
/* assets/statics/css/easy_admin.css */
body.easyadmin.new .form-group .form-group label,
body.easyadmin.edit .form-group .form-group label {
  text-align: left;
}
```

```yaml
# config/packages/easy_admin.yaml
easy_admin:
  design:
    assets:
      css:
        - /build/css/easy_admin.css
```

å‚è€ƒã¾ã§ã«åƒ•ãŒæ™®æ®µä½¿ã£ã¦ã„ã‚‹ [ttskch/symfony-skeleton](https://github.com/ttskch/symfony-skeleton) ã®ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ³ã‚¯ã‚’è²¼ã£ã¦ãŠãã¾ã™âœ‹

* <https://github.com/ttskch/symfony-skeleton/blob/f47c89ad9b159362bc7d0f5e2999029b5077af31/webpack.config.js#L88-L91>
* <https://github.com/ttskch/symfony-skeleton/tree/f47c89ad9b159362bc7d0f5e2999029b5077af31/assets/statics>
