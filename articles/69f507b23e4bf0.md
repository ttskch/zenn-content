---
title: "Symfonyã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’4.4ã‹ã‚‰6.4ã«ä¸Šã’ãŸã‚‰google/authãŒç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã‚“ã§ãã‚Œãªããªã£ãŸï¼ˆè§£æ±ºæ¸ˆã¿ï¼‰"
emoji: "ğŸ»"
type: "tech"
topics: ["php", "symfony", "googlecloud", "dotenv"]
published: true
---

# å‚™å¿˜éŒ²ã§ã™

[google/auth](https://github.com/googleapis/google-auth-library-php) ã‚’ä½¿ã£ã¦ã„ã‚‹Symfonyãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€Symfonyã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’4.4ã‹ã‚‰6.4ã«ä¸Šã’ãŸã¨ã“ã‚ã€`.env(.local)` ã«è¨˜è¼‰ã—ã¦ã„ã‚‹ [`GOOGLE_APPLICATION_CREDENTIALS` ç’°å¢ƒå¤‰æ•°](https://cloud.google.com/docs/authentication/application-default-credentials?hl=ja) ã§ã®èªè¨¼ãŒã§ããªããªã‚‹å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚

èª¿ã¹ã‚‹ã¨ã€[symfony/dotenv](https://github.com/symfony/dotenv) ã®5.0.0ã§ [`usePutenv` ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒ `true` ã‹ã‚‰ `false` ã«å¤‰ã‚ã£ã¦ã„ã¦](https://github.com/symfony/dotenv/blob/v6.4.8/CHANGELOG.md#500)ã€[google/authã®ç’°å¢ƒå¤‰æ•°ã®èª­ã¿è¾¼ã¿ç®‡æ‰€](https://github.com/googleapis/google-auth-library-php/blob/v1.40.0/src/CredentialsLoader.php#L79) ãŒæ©Ÿèƒ½ã—ãªããªã£ã¦ã„ã¾ã—ãŸã€‚

[SymfonyRuntime](https://symfony.com/doc/6.4/components/runtime.html#selecting-runtimes) ã®å®Ÿè£…ã‚’è¦‹ã‚‹ã¨ã€[`use_putenv` ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æœ‰åŠ¹åŒ–ã§ãã‚‹](https://github.com/symfony/runtime/blob/v6.4.8/SymfonyRuntime.php#L83) ã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§ã€[`public/index.php` ã§ `$_SERVER['APP_RUNTIME_OPTIONS'] = ['use_putnev' => true];` ãªã©ã¨ã—ã¦](https://symfony.com/doc/6.4/components/runtime.html#using-options) äº‹ãªãã‚’å¾—ã¾ã—ãŸã€‚

# ãã®ä»–è¦‹ãŸã‚‚ã®

* [symfony/dotenv ã§ .env ã‚’èª­ã¿è¾¼ã‚“ã§ã‚‚ getenv() ãŒ false ã«ãªã‚‹](https://zenn.dev/chatii/articles/8930945e766d57)
* [æ—¢å­˜Symfonyãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«Runtimeã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å°å…¥ã™ã‚‹æ–¹æ³• | QUARTETCOM TECH BLOG](https://tech.quartetcom.co.jp/2021/06/25/symfony-runtime-to-existing-project/)
