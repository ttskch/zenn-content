---
title: "ã€ç¬¬1ç« ã€‘PHPæ­´8å¹´ãƒ»Rubyæ­´0ç§’ã®åƒ•ã®Railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ—¥è¨˜"
emoji: "ğŸ’"
type: "tech"
topics: ["ruby", "rubyonrails", "railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«"]
published: true
published_at: 2020-03-19
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-03-19ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

ã“ã‚“ã«ã¡ã¯ã€ãŸã¤ãã¡ã§ã™ã€‚

ç¾åœ¨PHPæ­´8å¹´ã¡ã‚‡ã„ã§ã€4å¹´ã»ã©å‰ã«ã¯å‰¯è‘—ã§ [æŠ€è¡“æ›¸ã‚’åŸ·ç­†](https://gihyo.jp/book/2016/978-4-7741-7803-5) ã—ãŸã‚Šã‚‚ã—ãŸã€PHPãƒãƒ§ãƒƒãƒˆãƒ‡ã‚­ãƒ«äººã§ã™â†

ä»Šæ›´ãªãŒã‚‰Ruby on Railsã‚’å­¦ã‚“ã§ã¿ã‚ˆã†ã¨æ€ã„ç«‹ã£ãŸã®ã§ã€Railså…¥é–€è€…ã®ç™»ç«œé–€ [Railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://railstutorial.jp/) ã«å–ã‚Šçµ„ã‚“ã§ã¿ãŸæ§˜å­ã‚’ãƒ–ãƒ­ã‚°ã«é€£è¼‰ã—ã¦ã„ãã¾ã™ğŸ’ª

ä»Šå›ã¯ã€å…¨14ç« ä¸­ã®è¨˜å¿µã™ã¹ãç¬¬1ç« ã§ã™ï¼

# ã“ã®é€£è¼‰ã®ç›®æ¬¡

* **ç¬¬1ç«  ã‚¼ãƒ­ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§**
* [ç¬¬2ç«  Toyã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³](https://blog.ttskch.com/rails-tutorial-02/)
* [ç¬¬3ç«  ã»ã¼é™çš„ãªãƒšãƒ¼ã‚¸ã®ä½œæˆ](https://blog.ttskch.com/rails-tutorial-03/)
* ç¬¬4ç«  Railsé¢¨å‘³ã®Rubyï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬5ç«  ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆã™ã‚‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬6ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬7ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬8ç«  åŸºæœ¬çš„ãªãƒ­ã‚°ã‚¤ãƒ³æ©Ÿæ§‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬9ç«  ç™ºå±•çš„ãªãƒ­ã‚°ã‚¤ãƒ³æ©Ÿæ§‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬10ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ›´æ–°ãƒ»è¡¨ç¤ºãƒ»å‰Šé™¤ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬11ç«  ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æœ‰åŠ¹åŒ–ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬12ç«  ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å†è¨­å®šï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬13ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒã‚¤ã‚¯ãƒ­ãƒã‚¹ãƒˆï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬14ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹ï¼ˆæº–å‚™ä¸­ï¼‰

# [ç¬¬1ç«  ã‚¼ãƒ­ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§](https://railstutorial.jp/chapters/beginning?version=5.1#cha-beginning)

ã•ã£ããç¬¬1ç« ã‚’é–‹ã„ã¦èª­ã¿å§‹ã‚ã¾ã™ã€‚

Tipsã‚’ã¾ã¨ã‚ãŸã ã‘ã®æ–­ç‰‡çš„ãªãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ãªãã€ãã‚Œãªã‚Šã®è¦æ¨¡ã®ã‚¢ãƒ—ãƒªã‚’1ã¤ä½œã‚Šä¸Šã’ã‚‹ã¾ã§ã®æµã‚Œã‚’ä¸å¯§ã«æ•™ãˆã¦ãã‚Œã‚‹æ•™æã®ã‚ˆã†ã§ã™ã­ã€‚æœŸå¾…ãŒé«˜ã¾ã‚Šã¾ã™ã€‚

ã•ã‚‰ã£ã¨ç›®ã‚’é€šã—ã¤ã¤èª­ã¿é£›ã°ã—ã¦ã„ãã¾ã™ã€‚

## [1.1 ã¯ã˜ã‚ã«](https://railstutorial.jp/chapters/beginning?version=5.1#sec-introduction)

èª­ã¿é£›ã°ã—ã¾ã™ã€‚

## [1.2 ã•ã£ããå‹•ã‹ã™](https://railstutorial.jp/chapters/beginning?version=5.1#sec-up_and_running)

é–‹ç™ºç’°å¢ƒã« [Cloud9](https://aws.amazon.com/jp/cloud9/) ã‚’ä½¿ã†ã®ã‚’æ¨å¥¨ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€PHPerã¨ã—ã¦é•·å¹´JetBrainsã®PhpStormã‚’ä½¿ã£ã¦ããŸåƒ•ã¨ã—ã¦ã¯ã€ã©ã†ã—ã¦ã‚‚ [RubyMine](https://www.jetbrains.com/ja-jp/ruby/) ã‚’ä½¿ã„ãŸã„ã§ã™ã€‚

ãã‚Œã«ã€Rubyãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¯ã‚„ã£ãŸã“ã¨ãªã„ã‘ã©ã€Rubyè£½ã®ãƒ„ãƒ¼ãƒ«ã¨ã‹ã¯ä½¿ã£ãŸã“ã¨ãŒã‚ã‚‹ã®ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã«ã¯homebrewã§å…¥ã‚ŒãŸRuby2.7ãŒå…¥ã£ã¦ã„ã‚‹ã—ã€ç’°å¢ƒé¢ã¯ã¾ã‚å¤§ä¸ˆå¤«ã‚„ã‚ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚

ç¾åœ¨ã®Rails Tutorialã¯Rails 5.1å‰æã®å†…å®¹ã®ã‚ˆã†ãªã®ã§ `rails 5 ruby version` ã§ã‚°ã‚°ã£ã¦ã¿ãŸã¨ã“ã‚ã€[Rails 5ç³»ã¯Ruby 2.2.2ä»¥ä¸Šã§å‹•ã](https://railsguides.jp/upgrading_ruby_on_rails.html#ruby%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3) ã‚ˆã†ãªã®ã§ã€å•é¡Œãªã•ãã†ã§ã™ã€‚

ã¨ã„ã†ã‚ã‘ã§ã€ã¨ã‚Šã‚ãˆãšä»Šå›ã®Railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¯RubyMineã®30æ—¥ç„¡æ–™ä½“é¨“ç‰ˆã‚’ä½¿ã£ã¦ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚ï¼ˆç„¡äº‹ã«Railsãƒã‚¹ã‚¿ãƒ¼ã«ãªã£ãŸã‚‰æ­£å¼ç‰ˆã‚’è³¼å…¥ã—ã¾ã™ï¼‰

```bash
$ brew cask install rubymine
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰ã€ `Tools > Create Command-line Launcher...` ã—ã¦ã€ `mine` ã‚³ãƒãƒ³ãƒ‰ã§RubyMineã‚’èµ·å‹•ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚

ã‚ã¨ã€ã“ã®æ™‚ç‚¹ã§ã¨ã‚Šã‚ãˆãš [GitHubã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã£ã¦](https://github.com/ttskch/railstutorial) cloneã—ã¦ãŠãã¾ã—ãŸã€‚

ã“ã“ã§ã€gemã§Railsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚ˆã†ã§ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ã« `~/.gemrc` ã‚’ä½œã£ã¦ãŠãã“ã¨ã§ã€Rubyãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã„ã¡ã„ã¡æ•°åˆ†å¾…ãŸã•ã‚ŒãŸã‚Šã™ã‚‹ã®ã‚’å›é¿ã™ã‚‹ã¨ã„ã†ã‚ã‚‹ã‚ã‚‹è¨­å®šã‚’ã—ã¾ã—ã‚‡ã†ã¨ã®ã“ã¨ã€‚è¨€ã‚ã‚ŒãŸã¨ãŠã‚Šå®Ÿæ–½ã—ã¾ã™ã€‚

```bash
$ printf "install: --no-document \nupdate:  --no-document\n" >> ~/.gemrc
```

æ¬¡ã«Railsã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
$ gem install rails -v 5.1.6
```

composerã«æ…£ã‚Œè¦ªã—ã‚“ã§ã„ã‚‹PHPerã®æ„Ÿè¦šã ã¨ã€ã€Œã“ã‚Œã£ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼Ÿãƒ­ãƒ¼ã‚«ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼Ÿã€ã¨ãªã‚Šã¾ã™ãŒã€ã©ã†ã‚„ã‚‰gemã‚³ãƒãƒ³ãƒ‰ã¯åŸºæœ¬ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯Bundler + Gemfileã‚’ä½¿ã†æ„Ÿã˜ã¿ãŸã„ã§ã™ã€‚ï¼ˆ[å¤ã„è¨˜äº‹ã§ã™ãŒå‚è€ƒ](https://techblog.kayac.com/ruby3rubygems.html)ï¼‰

```bash
$ rails -v
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nio4r-2.5.2 because its extensions are not built. Try: gem pristine nio4r --version 2.5.2
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring websocket-driver-0.6.5 because its extensions are not built. Try: gem pristine websocket-driver --version 0.6.5
Rails 5.1.6
```

ãªã‚“ã‹ã‚ã£ã¡ã‚ƒè­¦å‘Šã¿ãŸã„ãªã®å‡ºã¦ã‚‹ã‘ã©ã¨ã‚Šã‚ãˆãšã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ã§ãã¦ã‚‹ã¿ãŸã„ãªã®ã§ä¸€æ—¦ç„¡è¦–ã—ã¦é€²ã¿ã¾ã™ç¬‘

## [1.3 æœ€åˆã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³](https://railstutorial.jp/chapters/beginning?version=5.1#sec-the_hello_application)

Hello Worldã‚’ä½œã‚‹ã‚ˆã†ã§ã™ã€‚

> 1.2.1ã§æ¨å¥¨ã—ã¦ã„ã‚‹Cloud9 IDEã‚’åˆ©ç”¨ã—ãªã„å ´åˆã¯ã€Railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã†ãŸã‚ã®environmentãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦ãŠã„ã¦ãã ã•ã„

ã¨ã‚ã‚Šã¾ã™ãŒã€ç¶šãã‚’èª­ã‚“ã§ã¿ã‚‹ã¨

> ```
> $ cd ~/environment
> $ rails _5.1.6_ new hello_app
> ```

ã¨ã€ `~/environment` ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã¨ã—ã¦ä½¿ã£ã¦ã„ã‚‹ã ã‘ã¿ãŸã„ãªã®ã§ã€ä»Šå›ã¯ `~/environment` ã¯ä½œã‚‰ãšã€è‡ªåˆ†ã§ç”¨æ„ã—ãŸGitHubãƒªãƒã‚¸ãƒˆãƒªã®cloneã®ãƒ‘ã‚¹ã§ä½œæ¥­ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚

```bash
$ cd /path/to/project
$ rails _5.1.6_ new hello_app
```

è¨˜å¿µã™ã¹ãæœ€åˆã®Railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã§ãã¾ã—ãŸã€‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ [ã“ã‚“ãªæ„Ÿã˜ã¨ã®ã“ã¨ã€‚](https://railstutorial.jp/chapters/beginning?version=5.1#table-rails_directory_structure) ã¾ã‚ã ã„ãŸã„æƒ³åƒã§ãã‚‹æ„Ÿã˜ã§ã™ã­ã€‚

ã“ã®æ™‚ç‚¹ã§ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠã“ã†ã¨æ€ã£ãŸã®ã§ã™ãŒã€ `git add .` ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚

```
error: 'hello_app/' does not have a commit checked out
fatal: adding files failed
```

`ls -la hello_app` ã—ã¦ã¿ã‚‹ã¨ã€ `hello_app/.git` ãŒå­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚ `rails new` ã—ãŸã¨ãã®ãƒ­ã‚°ã‚’è¦‹è¿”ã—ã¦ã¿ãŸã‚‰ç¢ºã‹ã« `git init` ã—ã¦ã¾ã—ãŸã€‚

```
create
create  README.md
create  Rakefile
create  config.ru
create  .gitignore
create  Gemfile
   run  git init from "."
Initialized empty Git repository in /Users/ttskch/ghq/github.com/ttskch/railstutorial/hello_app/.git/
create  app
 :
```

ï¼ˆä½™è¨ˆãªãŠç¯€ä»‹ã ãªãƒ»ãƒ»ãƒ»ï¼‰ã¨æ€ã„ã¤ã¤ã€ä»Šå›ã¯Railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å…¨ä½“ã§Gitç®¡ç†ã—ãŸã„ã®ã§ `hello_app/.git` ã‚’å‰Šé™¤ã—ã¡ã‚ƒã†ã“ã¨ã«ã—ã¾ã™ã€‚

```bash
$ rm -rf hello_app/.git
```

### [1.3.1 Bundler](https://railstutorial.jp/chapters/beginning?version=5.1#sec-bundler)

ç¶šã„ã¦Bundlerã®èª¬æ˜ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

`rails new` ä¸­ã« `bundle install` ãŒè‡ªå‹•ã§å®Ÿè¡Œæ¸ˆã¿ã¨ã®ã“ã¨ãªã®ã§ã™ãŒã€èãã‹ã˜ã£ãŸçŸ¥è­˜ã§ã€Œç¢ºã‹ `bundle install --path vendor/bundle` ã£ã¦ã‚„ã‚‰ãªã„ã¨gemãŒå…¨éƒ¨ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¡ã‚ƒã†ã‚“ã˜ã‚ƒãªã‹ã£ãŸã£ã‘ï¼Ÿã€ã¨ä¸æ€è­°ã«æ€ã„ã¾ã—ãŸã€‚

å®Ÿéš›ã€ç¾æ™‚ç‚¹ã® `hello_app` é…ä¸‹ã«ã¯ `vendor` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã‚ã‚‹ã‘ã©ä¸­èº«ã¯ç©ºã«ãªã£ã¦ã„ã¾ã™ã€‚

ã“ã‚Œã§ã„ã„ã®ã‹ï¼Ÿã¨ä¸å®‰ã«ãªã£ãŸã®ã§ã‚°ã‚°ã£ã¦ã¿ãŸã¨ã“ã‚ [ã“ã¡ã‚‰ã®è¨˜äº‹](https://qiita.com/jnchito/items/99b1dbea1767a5095d85) ã‚’è¦‹ã¤ã‘ã€ã€Œ `--path vendor/bundle` ã¯ä»˜ã‘ãªã„æ´¾ã‚‚ã‚ã‚‹ã€ã¨ã„ã†ã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§æ°—ã«ã—ãªã„ã“ã¨ã«ã—ã¾ã—ãŸã€‚

ã¨ã„ã†ã‚ã‘ã§ã€å®‰å¿ƒã—ã¦ã“ã“ã¾ã§ã®ä½œæ¥­ã‚’ [ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/commit/d0a693c541b82e7349af03a2ed6dd5161dc918d2) ã—ã¾ã™ã€‚

Bundlerè‡ªä½“ã«ã¤ã„ã¦ã¯ã€Œcomposerã¿ãŸã„ãªã‚„ã¤ã§ã—ã‚‡ã€ã¨ã„ã†æ„Ÿã˜ã§ã»ã¼ç†è§£ã§ãã¦ã„ã‚‹ï¼ˆï¼Ÿï¼‰ã®ã§ã•ã‚‰ã£ã¨èª­ã¿æµã—ã¾ã™ã€‚

[Gemfileã‚’ç·¨é›†ã—ã¦å„gemã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å›ºå®šã—ã¾ã—ã‚‡ã†ï¼ˆã¤ã„ã§ã«sqlite3ã‚’productionã§ã¯ä½¿ã‚ãªã„ã‚ˆã†ã«ã‚‚ï¼‰](https://railstutorial.jp/chapters/beginning?version=5.1#code-gemfile_sqlite_version) ã¨ã„ã†æŒ‡ç¤ºãŒå‡ºã¦ããŸã®ã§ã€è¨€ã‚ã‚ŒãŸã¨ãŠã‚Šã«ã—ã¾ã™ã€‚

Gemfileã‚’æ›´æ–°ã—ã¦ `bundle install` ã—ãŸã‚‰ã€ã¾ãš `bundle update` ã›ã„ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚

```bash
$ bundle install
You have requested:
  spring = 2.0.2

The bundle currently has spring locked at 2.1.0.
Try running `bundle update spring`

If you are updating multiple gems in your Gemfile at once,
try passing them all to `bundle update`
```

è¨€ã‚ã‚ŒãŸã¨ãŠã‚Šã‚„ã‚Šç›´ã—ã¾ã™ã€‚

```bash
$ bundle update
$ bundle install
```

ä»Šåº¦ã¯æ­£å¸¸ã«çµ‚äº†ã—ã¾ã—ãŸğŸ‘

```bash
$ git status
modified:   Gemfile
modified:   Gemfile.lock
```

ã„ã„æ„Ÿã˜ã§ã™ã­ã€‚[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/commit/ecf6fac00c4846647287408936ead8ec40a1a766) ã—ã¦ãŠãã¾ã™ã€‚

### [1.3.2 rails server](https://railstutorial.jp/chapters/beginning?version=5.1#sec-rails_server)

ç¶šã„ã¦ã€ `rails server` ã¨ã„ã†é–‹ç™ºç”¨ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã¿ã‚‹ãã†ã§ã™ã€‚

```bash
$ rails server
Could not find byebug-9.0.6 in any of the sources
Run `bundle install` to install missing gems.
```

è¬ã®ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚Gemfileã¨Gemfile.lockã‚’è¦‹ã¦ã‚‚ã¡ã‚ƒã‚“ã¨ `byebug` ãŒ `9.0.6` ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚ `gem list | grep byebug` ã—ã¦ã¿ã¦ã‚‚ `byebug (11.1.1, 9.0.6)` ã¨å‡ºã¦ãã‚‹ã®ã§å•é¡Œãªã•ãã†ã«æ€ãˆã¾ã™ã€‚

`bundle install` `bundle update` ã‚’ã‚„ã‚Šç›´ã—ã¦ã¿ã¦ã‚‚å¤‰åŒ–ãªã—ã€‚

ä¸€æ—¦Gemfile.lockã‚’å‰Šé™¤ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ç›´ã—ã¦ã¿ã¾ã™ã€‚

```bash
$ rm Gemfile.lock
$ bundle install
```

ã™ã‚‹ã¨ã€Gemfile.lockã«å·®åˆ†ãŒç¾ã‚Œã¾ã—ãŸã€‚

```diff
$ git diff

BUNDLED WITH
-  1.17.2
+  2.1.2
```

ä½•ãŒèµ·ã“ã£ãŸã®ã‹ã‚ˆãåˆ†ã‹ã‚Šã¾ã›ã‚“ãŒã€Bundlerã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤‰ã‚ã£ãŸã‚ˆã†ã§ã™ğŸ¤”

```bash
$ bundle -v
Bundler version 2.1.2
```

`rails server` ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€

```bash
$ rails server
Traceback (most recent call last):
        5: from bin/rails:3:in '<main>'
        4: from bin/rails:3:in 'load'
        3: from /Users/ttskch/ghq/github.com/ttskch/railstutorial/hello_app/bin/spring:10:in '<top (required)>'
        2: from /Users/ttskch/ghq/github.com/ttskch/railstutorial/hello_app/bin/spring:10:in 'new'
        1: from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/bundler/lockfile_parser.rb:95:in 'initialize'
/System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/bundler/lockfile_parser.rb:108:in 'warn_for_outdated_bundler_version': You must use Bundler 2 or greater with this lockfile. (Bundler::LockfileError)
```

ã¾ãŸé•ã†ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸğŸ™„

`You must use Bundler 2 or greater with this lockfile` ã ãã†ã§ã™ã€‚2.1.2ã‚’ä½¿ã£ã¦ã„ã‚‹ã¤ã‚‚ã‚Šãªã®ã§ã™ãŒãƒ»ãƒ»ãƒ»

ã‚ˆãåˆ†ã‹ã‚‰ãªã„ã§ã™ãŒã¨ã‚Šã‚ãˆãš `gem update` ã¨ã‹ã—ã¦ã¿ã¾ã™ã€‚

```bash
$ gem update
```

ãã®å¾Œå†åº¦ `rails server` ã—ã¦ã¿ã‚‹ã¨ã€

```bash
$ rails server
Could not find byebug-9.0.6 in any of the sources
Run `bundle install` to install missing gems.
```

å…ƒã®ã‚¨ãƒ©ãƒ¼ã«æˆ»ã£ã¦ãã¾ã—ãŸã€‚

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚°ã‚°ã‚‹ã¨ [ã“ã‚“ãªè¨˜äº‹](https://qiita.com/jnchito/items/44ab1df134369ed76911) ã‚‚è¦‹ã¤ã‘ã¾ã—ãŸãŒã€byebug 9.06ã¯ [ã¡ã‚ƒã‚“ã¨å­˜åœ¨ã—ã¦ã„ã¾ã—ãŸã€‚](https://rubygems.org/gems/byebug/versions/9.0.6)

ãŒã€ã‚ˆãè¦‹ã‚‹ã¨byebug 9.0.6ã®ä¾å­˜ãŒ `bundler ~> 1.7` ã¨ãªã£ã¦ã„ã¦ã€Bundler 2ç³»ã§ã¯å‹•ã‹ãªã„ã®ã§ã¯ï¼Ÿã¨ã„ã†æ°—ãŒã—ã¾ã—ãŸã€‚

ãªã‚“ã‹Bundler 2ç³»ã¯ã‚ã¡ã‚ƒãã¡ã‚ƒæœ€è¿‘ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‰ã—ãã€[ã¾ã CIç’°å¢ƒã§æº€è¶³ã«ä½¿ãˆãªã„](https://qiita.com/tanakaworld/items/e15ff9dbdd4b628378c2) ã¨ã„ã†è©±ã‚‚ã‚ã‚‹ã‚ˆã†ãªã®ã§ã€ä¸€æ—¦Bundlerã‚’1.7ç³»ã«ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ã¿ã¾ã™ã€‚

```bash
$ gem install bundler -v 1.17.3
$ rm Gemfile.lock
$ bundle _1.17.3_ install
```

```diff
$ git diff

BUNDLED WITH
-  1.17.2
+  1.17.3
```

```bash
$ bundle -v
Bundler version 1.17.3
```

```bash
$ rails server
Could not find byebug-9.0.6 in any of the sources
Run `bundle install` to install missing gems.
```

ãƒ€ãƒ¡ã˜ã‚ƒã‚“ãƒ»ãƒ»ãƒ»

ä¸€æ—¦ `gem uninstall byebug` ã—ã¦ `bundle install byebug` ã—ç›´ã—ã¦ã¿ã‚‹ãªã©ã—ã¦ã‚‚å¤‰ã‚ã‚‰ãšã€‚

ãƒ ã‚«ã¤ã„ã¦ããŸã®ã§ä¸€æ—¦gemã‚’å…¨å‰Šé™¤ã—ã¦ã¿ã¾ã—ãŸã€‚

ã¨ã‚Šã‚ãˆãš `gem list` ã§å‡ºã¦ããŸã‚„ã¤ã‚’ä¸€æ°—ã« `gem uninstall` ã™ã‚‹ã£ã¦ã„ã†ã®ã‚’ã‚„ã£ã¦ã¿ãŸã‚“ã§ã™ãŒã€ã„ãã¤ã‹ã‚¨ãƒ©ãƒ¼ã§æ­¢ã¾ã£ãŸã‚Šã—ã¾ã—ãŸã€‚

ã§ã€ã‚ˆãè€ƒãˆãŸã‚‰ã‚·ã‚§ãƒ«ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§

```
export GEM_HOME=$HOME/.gem
export PATH=$HOME/.gem/bin:$PATH
```

ã‚’å…ƒã€…è¨­å®šã—ã¦ã„ãŸã®ã§ã€ `~/.gem` ã‚’ã¾ã‚‹ã£ã¨å‰Šé™¤ã—ã¦ã¿ã¾ã—ãŸã€‚

æ”¹ã‚ã¦Bundlerã‚’å…¥ã‚Œç›´ã—ã¦ã€ `bundle install` ã—ã¾ã™ã€‚

```bash
$ gem install bundler -v 1.17.3
$ bundle install
```

ã§ã€å†åº¦ `rails server` ã—ã¦ã¿ã‚‹ã¨ã€

```bash
$ rails server
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Could not find rake-13.0.1 in any of the sources
Run `bundle install` to install missing gems.
```

ã‚ã€ãªã‚“ã‹ã‚¨ãƒ©ãƒ¼ãŒå¤‰ã‚ã‚Šã¾ã—ãŸã€‚ã—ã‹ã—ã€ `gem list | grep rake` ã—ã¦ã¿ã‚‹ã¨ã‚„ã£ã±ã‚Šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã—ã€[rake 13.0.1ã®å­˜åœ¨ã‚‚ç¢ºèªã§ãã¾ã™ã€‚](https://rubygems.org/gems/rake/versions/13.0.1)

çµå±€ã‚ˆãåˆ†ã‹ã‚‰ãªã„ã®ã§ã€ãªã‚“ã¨ãªã `gem install` ã—ç›´ã—ã¦ã¿ã¾ã™ã€‚

```bash
$ gem install rake
Fetching rake-13.0.1.gem
Successfully installed rake-13.0.1
1 gem installed
```

```bash
$ rails server
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Could not find nokogiri-1.10.9 in any of the sources
Run `bundle install` to install missing gems.
```

ãˆã€å¤‰ã‚ã‚Šã¾ã—ãŸã€‚ã¨ã„ã†ã“ã¨ã¯ãƒ»ãƒ»ãƒ»

```bash
$ gem install nokogiri
Building native extensions. This could take a while...
Successfully installed nokogiri-1.10.9
1 gem installed

$ rails server
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
Could not find nokogiri-1.10.9 in any of the sources
Run `bundle install` to install missing gems.
```

ã‚¢ã‚«ãƒ³ã®ã‹ã„ã€‚

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§

```
Ignoring nokogiri-1.10.9 because its extensions are not built. Try: gem pristine nokogiri --version 1.10.9
```

ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã®ã§ `gem pristine nokogiri --version 1.10.9` ã—ã¦ã¿ã¾ã™ãŒå¤‰ã‚ã‚‰ãšã€‚

[`gem pristine --all` ã—ã¾ã—ã‚‡ã†](https://blog.freedom-man.com/ruby-notbuilt-message) ã¨ã„ã†ã®ã‚‚è©¦ã—ã¾ã—ãŸãŒå¤‰ã‚ã‚‰ãšã€‚

ã‚°ã‚°ã‚Šã¾ãã‚Šã¾ã—ãŸãŒãƒ“ã‚·ãƒƒã¨ã—ãŸç­”ãˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚

ãŒã€rbenvã‚’ä½¿ã£ã¦ã„ã‚‹äººã®ã€Œrbenvã«nokogiriãŒã¡ã‚ƒã‚“ã¨ç´ã¥ã„ã¦ã¾ã›ã‚“ã§ã—ãŸã€çš„ãªè¨˜äº‹ã‚’ã‚ˆãè¦‹ã‹ã‘ã‚‹å°è±¡ã§ã™ã€‚ï¼ˆ[ä¾‹](https://qiita.com/r_hata/items/74175720f693527b6b86)ï¼‰

ãã“ã§ãƒ”ãƒ³ã¨æ¥ã¾ã—ãŸã€‚

æã‚‹æã‚‹ `type rails` ã—ã¦ã¿ã‚‹ã¨ãƒ»ãƒ»ãƒ»

```bash
$ type rails
rails is /usr/bin/rails
```

ã‚¬ãƒ¼ãƒ³ğŸ˜±

`$GEM_HOME` ã§ã‚ã‚‹ `~/.gem` ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ `rails` ã‚³ãƒãƒ³ãƒ‰ã§ã¯ãªãã€macOSï¼ˆCatalinaï¼‰ã«ãƒ—ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«sã‚Œã¦ã„ã‚‹ `rails` ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

ä¸€æ‰€æ‡¸å‘½ `gem` ã‚³ãƒãƒ³ãƒ‰ã‚„ `bundle` ã‚³ãƒãƒ³ãƒ‰ã§ç’°å¢ƒã‚’ä½œã£ã¦ã„ã¾ã—ãŸãŒã€ãã‚Œã‚‰ã¨ã¾ã£ãŸãé–¢ä¿‚ãªã„ `rails` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ãŸã®ã§ã™ã€‚ãã‚Šã‚ƒå‹•ã‹ã‚“ã‚ã€‚

è©¦ã—ã« `~/.gem/bin/rails server` ã‚’å®Ÿè¡Œã—ã¦ã¿ãŸã‚‰ã€æ™®é€šã«å‹•ãã¾ã—ãŸğŸ˜­

ã—ã‹ã—ã€ã‚·ã‚§ãƒ«ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã§PATHã®è¨­å®šé †åºã¯é–“é•ã£ã¦ã¯ã„ã¾ã›ã‚“ã€‚ãªãœ `gem` ã‚³ãƒãƒ³ãƒ‰ã§å…¥ã‚ŒãŸ `rails` ã«ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ãªã‹ã£ãŸã®ã‹ã¯ãƒã‚¸ã§è¬ã§ã™ãƒ»ãƒ»ãƒ»

`source ~/.zshrc` ã—ã¦ã¿ãŸã‚‰ç›´ã‚Šã¾ã—ãŸãƒ»ãƒ»ãƒ»ğŸ˜“

æ­»ã¬ã»ã©ç–²ã‚Œã¾ã—ãŸãŒã€ã¨ã‚Šã‚ãˆãšè§£æ±ºã—ã¾ã—ãŸã€‚

Bundlerã®2ç³»ã‚’é¿ã‘ã¾ã—ã‚‡ã†ã¿ãŸã„ãªè©±ã«ã‚‚å‡ºä¼šãˆãŸã®ã§ã€ã¾ã‚ã‚ˆã—ã¨ã—ã¾ã—ã‚‡ã†ã€‚

ç¾æ™‚ç‚¹ã§ `Gemfile.lock` ã«å·®åˆ†ãŒå‡ºã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã¯ [ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/commit/25a803ed23b8cb4a38d2e8427ab4d681bcb6aa87) ã—ã¦ãŠãã¾ã™ã€‚

### [1.3.4 Hello, world!](https://railstutorial.jp/chapters/beginning?version=5.1#sec-hello_world)

MVCã®èª¬æ˜ã¯çŸ¥ã£ã¦ã„ã‚‹ã®ã§èª­ã¿é£›ã°ã—ã¦ã€æ¬¡ã¯ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãæ›ãˆã¦å®Ÿéš›ã«Hello Worldã—ã¦ã¿ã‚‹ã‚ˆã†ã§ã™ã€‚

ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ã—ã¦ã€ã¨æ™®é€šã®MVCãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‰ã—ã„å¯¾å¿œã‚’ã™ã‚‹ã ã‘ã§ã—ãŸã€‚

ç°¡å˜ã§ã™ã­ï¼ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/commit/cd2e79f7b681c1734e17b3e23f0fb0f579c6dfe7)ï¼‰

## [1.4 Gitã«ã‚ˆã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†](https://railstutorial.jp/chapters/beginning?version=5.1#sec-version_control)

Gitã¯ååˆ†ã«ç†è§£ã—ã¦ã„ã‚‹ã—ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§è‡ªä¿¡æº€ã€…ã§èª­ã¿é£›ã°ã—ã¾ã™ï¼

## [1.5 ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹](https://railstutorial.jp/chapters/beginning?version=5.1#sec-deploying)

ç¬¬1ç« ã®æœ€å¾Œã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã§ã™ã€‚Herokuã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã®ã“ã¨ã€‚

åƒ•ã‚‚Herokuã¯æ˜”ã‹ã‚‰è¶£å‘³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ˆãä½¿ã£ã¦ã„ã‚‹ã®ã§æ…£ã‚Œè¦ªã—ã‚“ã§ã„ã¾ã™ã€‚æ¥½å‹ã§ã™ã‚ã€‚

ã¾ãšã¯æœ¬ç•ªã§PostgreSQLã‚’ä½¿ã†ãŸã‚ã« `pg` ãªã‚‹gemã‚’productionç”¨ã®ä¾å­˜ã«è¿½åŠ ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/commit/f9ed364cd23274e08a4693b3321cfa5284b4a254)ï¼‰

æ¬¡ã«Herokuã« `hello_app` ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ãã®ã§ã™ãŒã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çš„ã«ã¯ `hello_app` ãŒgitã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ãªã£ã¦ã„ã‚‹å‰æã§ã€ `heroku create` ã‹ã‚‰ã® `git push heroku master` ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã„ã†æ‰‹é †ã«ãªã£ã¦ã„ã¾ã™ã€‚

åƒ•ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆé…ä¸‹ã« `hello_app` ã‚’ç½®ãå½¢ã«ã—ã¦ã—ã¾ã£ãŸã®ã§ã€[Procfile](https://devcenter.heroku.com/articles/procfile) ã‚’è‡ªåˆ†ã§æ›¸ã„ã¦ `hello_app` ã‚’ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã¦ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹ï¼ˆ `php -S localhost:8000 -t <dir>` ã¿ãŸã„ãªæ„Ÿã˜ã§ï¼‰ã‚ˆã†ã«ã—ã‚ˆã†ã‹ã¨æ€ã£ãŸã‚“ã§ã™ãŒã€ã‚°ã‚°ã£ã¦ã¿ãŸæ„Ÿã˜ã€Railsã§ã¯æ°—è»½ã«ãã‚“ãªã“ã¨ã¯ã§ããªã„ã£ã½ã‹ã£ãŸã®ã§ã€è«¦ã‚ã¦ä¸€æ—¦ `hello_app` ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•ã•ã›ã¾ã—ãŸğŸ˜…ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/commit/f2b0465efd67ecc32a545d654284cf3a99b11cad)ï¼‰

ã‚ã¨ã¯ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®æŒ‡ç¤ºã©ãŠã‚Š `heroku create` `git push heroku master` ã§ã‚‚ã¡ã‚ã‚“ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã—ãŸã€‚

![](https://tva1.sinaimg.cn/large/00831rSTgy1gcyce39psbj31960r243t.jpg)

# ä»Šå›ã®ã¾ã¨ã‚

* èª¿å­ã“ã„ã¦ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®è¨€ã†ã“ã¨èã‹ãšã«ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§é€²ã‚ã‚ˆã†ã¨ã—ãŸã‚‰å«Œãªã‚¨ãƒ©ãƒ¼ã§ç„¡é§„ã«ãƒãƒã£ã¦ã¤ã‚‰ã‹ã£ãŸãƒ»ãƒ»ãƒ»
* ã©ã®è¨€èªã§ã‚‚ã€çµå±€é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã¯ã¤ã¾ãšãã‚‚ã®ãªã‚“ã ãªãƒ¼ã¨ã„ã†ãŠæ°—æŒã¡
* æ¬¡å›ã‚‚é ‘å¼µã‚Šã¾ã™ï¼
