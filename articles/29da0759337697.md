---
title: "[Flutter] fatal error: lipo: can't map input file"
emoji: "ğŸ’»"
type: "tech"
topics: ["flutter"]
published: true
published_at: 2020-07-02
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-07-02ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

å‚™å¿˜éŒ²ã§ã™ã€‚

# èµ·ã“ã£ãŸã“ã¨

Flutterã§iOSå‘ã‘ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ãŸã®ã§ã™ãŒã€[cloud_firestore](https://pub.dev/packages/cloud_firestore) ã‚’å°å…¥ã—ãŸã‚‰ãªã‚“ã‹æ€¥ã« [VS Codeã‹ã‚‰èµ·å‹•](https://flutter.dev/docs/development/tools/vs-code#running-and-debugging) ã§ããªããªã‚Šã¾ã—ãŸğŸ™„

ã‚¨ãƒ©ãƒ¼ã®å…¨æ–‡ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã€‚

```
sent 30769535 bytes  received 188 bytes  61539446.00 bytes/sec
total size is 34965386  speedup is 1.14
building file list ... done
deleting Flutter.framework/_CodeSignature/CodeResources
deleting Flutter.framework/_CodeSignature/
Flutter.framework/
Flutter.framework/Flutter
Flutter.framework/Info.plist
Flutter.framework/icudtl.dat
sent 97123243 bytes  received 92 bytes  194246670.00 bytes/sec
total size is 97111097  speedup is 1.00
/path/to/project/build/ios/Debug-iphonesimulator/Runner.app/Frameworks/App.framework/App: signed bundle with Mach-O universal (x86_64 arm64) [io.flutter.flutter.app]
/path/to/project/build/ios/Debug-iphonesimulator/Runner.app/Frameworks/Flutter.framework/Flutter: signed bundle with Mach-O universal (armv7 x86_64 arm64) [io.flutter.flutter]
2020-07-02 08:53:39.589 defaults[6547:68784]
The domain/default pair of (/path/to/project/build/ios/Debug-iphonesimulator/Runner.app/Frameworks/App.framework/flutter_assets/ios/Flutter/App.framework/Info.plist, CFBundleExecutable) does not exist
fatal error: lipo: can't map input file: /path/to/project/build/ios/Debug-iphonesimulator/Runner.app/Frameworks/App.framework/flutter_assets/ios/Flutter/App.framework/ (Invalid argument)
fatal error: lipo: can't map input file: /path/to/project/build/ios/Debug-iphonesimulator/Runner.app/Frameworks/App.framework/flutter_assets/ios/Flutter/App.framework/ (Invalid argument)
Failed to extract x86_64 for /path/to/project/build/ios/Debug-iphonesimulator/Runner.app/Frameworks/App.framework/flutter_assets/ios/Flutter/App.framework/. Running lipo -info:
fatal error: lipo: can't map input file: /path/to/project/build/ios/Debug-iphonesimulator/Runner.app/Frameworks/App.framework/flutter_assets/ios/Flutter/App.framework/ (Invalid argument)
Command PhaseScriptExecution failed with a nonzero exit code
note: Using new build system
note: Building targets in parallel
note: Planning build
note: Constructing build description
Could not build the application for the simulator.
Error launching application on iPhone SE (2nd generation).
Exited (sigterm)
```

# ã©ã†ã—ãŸã‚‰ç›´ã£ãŸã‹

* ãƒ“ãƒ«ãƒ‰ã®ãŸã³ã« `flutter clean` ã™ã‚‹
* Flutterã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ `1.18.0-8.0.pre` ã«æˆ»ã™

ã®ã©ã¡ã‚‰ã‹ã®æ–¹æ³•ã§ã¨ã‚Šã‚ãˆãšè§£æ±ºã§ãã¾ã—ãŸã€‚

[ã“ã®issue](https://github.com/flutter/flutter/issues/57210) ã§è¨€åŠã•ã‚Œã¦ã„ã¾ã™ã€‚Flutterã®ãƒã‚°ï¼Ÿã£ã½ã„ã®ã§ã€ä¸€æ—¦ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æˆ»ã—ã¦ä½¿ã„ã¤ã¤ã€ç›´ã£ãŸé ƒã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ã‚ˆã†ã‹ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚

ã¡ãªã¿ã«ã€ä¸€åº¦ `flutter clean` ã—ã¦VS Codeã‹ã‚‰ãƒ‡ãƒãƒƒã‚°èµ·å‹•ã™ã‚‹ã¨ã€é€†ã« `flutter run` ã§ã¯èµ·å‹•ã§ããªããªã‚Šã¾ã™ã€‚

## ãã®ä»–ã€æ•…éšœã‹ãªï¼Ÿã¨æ€ã£ãŸã¨ãã«ã‚„ã‚‹ã“ã¨

* `git clean -xdf` ã¨ã‹ã§ä¸€æ—¦ã„ã‚ã„ã‚ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¶ˆã—ã¦ã¿ã‚‹
* VS Codeã‚’å†èµ·å‹•ã—ã¦ã¿ã‚‹
