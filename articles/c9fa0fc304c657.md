---
title: "[Flutter] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å†™çœŸã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¥ãƒ¼ã‚¶ãƒ¼ãŒå‡ºã¦ãã¦ç”»åƒã‚’å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹UIã®å®Ÿè£…ä¾‹"
emoji: "ğŸ’»"
type: "tech"
topics: ["flutter"]
published: true
published_at: 2020-08-10
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-08-10ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

ã‚ˆãã‚ã‚‹ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®šç”»é¢ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã€

* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã‚’ã‚¿ãƒƒãƒ—ã—ãŸã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¥ãƒ¼ã‚¶ãƒ¼ãŒå‡ºã¦ãã‚‹
* ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¥ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ãƒ¼ã‚«ãƒ«ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã™ã‚‹ã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒæ›¸ãæ›ãˆã‚‰ã‚Œã‚‹
* ãã®å¾Œä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨æ–°ã—ã„ç”»åƒãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹

ã¨ã„ã£ãŸUIã®Flutterã§ã®å®Ÿè£…ä¾‹ã‚’ãŠä¼ãˆã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

å‹•ä½œçµæœã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1ghinato2dhg30m813qkjq.gif)

å‰æŒ¯ã‚Šã‚‚ã¸ã£ãŸãã‚Œã‚‚ãªãçµè«–ã ã‘æ›¸ãã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§å®Ÿç¾ã§ãã¾ã™ã€‚

```dart
class Profile extends StatefulWidget {
  @override
  createState() => _ProfileState();
}

class _ProfileState extends State<Profile> {
  File _imageFile;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒè¨­å®š'),
      ),
      body: Builder(
        builder: (BuildContext context) {
          return ListView(
            children: [
              Container(
                margin: EdgeInsets.only(top: 16.0),
                child: GestureDetector(
                  child: Center(
                    child: Container(
                      width: 150,
                      height: 150,
                      child: _imageFile != null
                          ? Image.file(
                              _imageFile,
                              fit: BoxFit.cover,
                            )
                          : Image.network(
                              'https://via.placeholder.com/150',
                              fit: BoxFit.cover,
                            ),
                    ),
                  ),
                  onTap: () async {
                    setState(() => _imageFile = await FilePicker.getFile(type: FileType.image));
                  },
                ),
              ),
              Container(
                margin: EdgeInsets.only(top: 10.0),
                child: Center(
                  child: RaisedButton(
                    child: Text('ä¿å­˜'),
                    onPressed: () {
                      // do something, and
                      Scaffold.of(context).showSnackBar(SnackBar(
                        content: Text('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã‚’å¤‰æ›´ã—ã¾ã—ãŸ'),
                      ));
                    },
                  ),
                ),
              ),
            ],
          );
        },
      ),
    );
  }
}
```

ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã€Œã‚ãƒ¼ãƒã‚¤ãƒã‚¤ã€ã¨ãªã£ãŸæ–¹ã¯ã‚‚ã†å’æ¥­ã§å¤§ä¸ˆå¤«ã§ã™ç¬‘

ã¡ã‚‡ã£ã¨ã ã‘èª¬æ˜ã‚’æ›¸ãã¨ã€

```dart
File _imageFile;
```

ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã® `File` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒã¤ã‚ˆã†ã«ã—ã¦ã€ãã®ãƒ‡ãƒ¼ã‚¿ã®æœ‰ç„¡ã«å¿œã˜ã¦

```dart
_imageFile != null
  ? Image.file(
      _imageFile,
      fit: BoxFit.cover,
    )
  : Image.network(
      'https://via.placeholder.com/150',
      fit: BoxFit.cover,
    ),
```

ã¨ã„ã†å…·åˆã§ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸­ã®ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹ã‹ãƒ€ãƒŸãƒ¼ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹ã‹ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã„ã¾ã™ã€‚

ãã—ã¦ã€ç”»åƒã‚’ [`GestureDetector`](https://api.flutter.dev/flutter/widgets/GestureDetector-class.html) ã§ãƒ©ãƒƒãƒ—ã—ã¦ `onTap` ã‚’ç”Ÿã‚„ã—ã€ãã“ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®é¸æŠã‚’ã•ã›ã¦ã„ã¾ã™ã€‚

```dart
onTap: () async {
  setState(() => _imageFile = await FilePicker.getFile(type: FileType.image));
},
```

ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ¥ãƒ¼ã‚¶ãƒ¼ã‚’é–‹ã„ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã™ã‚‹å‡¦ç†ã«ã¯ [file_picker](https://pub.dev/packages/file_picker) ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

ã‚ã¨ã¯ `Container` ã¨ `Center` ã§ãƒ©ãƒƒãƒ—ã—ã¦ã‚µã‚¤ã‚ºã‚’ `150x150` ã«å›ºå®šã—ã¦ã„ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚

`Center()` ã§ãƒ©ãƒƒãƒ—ã—ãªã„ã¨

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1ghineqeoilj30ks11075k.jpg)

ã“ã‚“ãªæ„Ÿã˜ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚

ã•ã‚‰ã« `Container` ã§ãƒ©ãƒƒãƒ—ã—ãªã„ã¨

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1ghinfad6wij30kq10y0u1.jpg)

ã“ã‚“ãªæ„Ÿã˜ã§æ‹¡å¤§ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

ã“ã®è¾ºã‚Šã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®èª¿æ•´ã¯Flutterã®é¬¼é–€ã®ä¸€ã¤ã§ã™ã­ã€‚ï¼ˆå€‹äººçš„ã«ã¯ï¼‰

ã‚ã¨ãã‚‚ãã‚‚ `SnackBar` ã‚’ä½¿ã†ãŸã‚ã« `Builder` ã§ãƒ©ãƒƒãƒ—ã—ã¦ `context` ã‚’å¤‰ãˆã¦ã„ã‚‹ç‚¹ã«ã¤ã„ã¦ã¯

> [[Flutter] SnackBarã‚’ä½¿ãŠã†ã¨ã™ã‚‹ã¨ Scaffold.of() called withï¼ˆç•¥ï¼‰ã¨è¨€ã‚ã‚Œã‚‹ã¨ãã®å¯¾å¿œ](https://zenn.dev/ttskch/articles/5efbfe52d26157)

ã‚’ã”å‚ç…§ãã ã•ã„ã€‚
