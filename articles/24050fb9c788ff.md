---
title: "ã€ç¬¬3ç« ã€‘PHPæ­´8å¹´ãƒ»Rubyæ­´0ç§’ã®åƒ•ã®Railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ—¥è¨˜"
emoji: "ğŸ’"
type: "tech"
topics: ["ruby", "rubyonrails", "railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«"]
published: true
published_at: 2020-03-22
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-03-22ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

ã“ã‚“ã«ã¡ã¯ã€ãŸã¤ãã¡ã§ã™ã€‚

ç¾åœ¨PHPæ­´8å¹´ã¡ã‚‡ã„ã§ã€4å¹´ã»ã©å‰ã«ã¯å‰¯è‘—ã§ [æŠ€è¡“æ›¸ã‚’åŸ·ç­†](https://gihyo.jp/book/2016/978-4-7741-7803-5) ã—ãŸã‚Šã‚‚ã—ãŸã€PHPãƒãƒ§ãƒƒãƒˆãƒ‡ã‚­ãƒ«äººã§ã™â†

ä»Šæ›´ãªãŒã‚‰Ruby on Railsã‚’å­¦ã‚“ã§ã¿ã‚ˆã†ã¨æ€ã„ç«‹ã£ãŸã®ã§ã€Railså…¥é–€è€…ã®ç™»ç«œé–€ [Railsãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://railstutorial.jp/) ã«å–ã‚Šçµ„ã‚“ã§ã¿ãŸæ§˜å­ã‚’ãƒ–ãƒ­ã‚°ã«é€£è¼‰ã—ã¦ã„ãã¾ã™ğŸ’ª

ä»Šå›ã¯ã€å…¨14ç« ä¸­ã®ç¬¬3ç« ã§ã™ã€‚

# ã“ã®é€£è¼‰ã®ç›®æ¬¡

* [ç¬¬1ç«  ã‚¼ãƒ­ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§](https://blog.ttskch.com/rails-tutorial-01/)
* [ç¬¬2ç«  Toyã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³](https://blog.ttskch.com/rails-tutorial-02/)
* **ç¬¬3ç«  ã»ã¼é™çš„ãªãƒšãƒ¼ã‚¸ã®ä½œæˆ**
* ç¬¬4ç«  Railsé¢¨å‘³ã®Rubyï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬5ç«  ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆã™ã‚‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬6ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬7ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬8ç«  åŸºæœ¬çš„ãªãƒ­ã‚°ã‚¤ãƒ³æ©Ÿæ§‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬9ç«  ç™ºå±•çš„ãªãƒ­ã‚°ã‚¤ãƒ³æ©Ÿæ§‹ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬10ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ›´æ–°ãƒ»è¡¨ç¤ºãƒ»å‰Šé™¤ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬11ç«  ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æœ‰åŠ¹åŒ–ï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬12ç«  ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å†è¨­å®šï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬13ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒã‚¤ã‚¯ãƒ­ãƒã‚¹ãƒˆï¼ˆæº–å‚™ä¸­ï¼‰
* ç¬¬14ç«  ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹ï¼ˆæº–å‚™ä¸­ï¼‰

# [ç¬¬3ç«  ã»ã¼é™çš„ãªãƒšãƒ¼ã‚¸ã®ä½œæˆ](https://railstutorial.jp/chapters/static_pages?version=5.1#cha-static_pages)

ä»Šå›ã‹ã‚‰ã€å…¨ç« ã‚’é€šã—ã¦ä½œã‚Šè¾¼ã‚“ã§ã„ãæœ¬æ ¼çš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã®é–‹ç™ºã«ç€æ‰‹ã™ã‚‹ã‚ˆã†ã§ã™ã€‚

ã¾ãšã¯ãã®ä¸­ã§ã‚‚é™çš„ãªãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹ã¨ã“ã‚ã‹ã‚‰å§‹ã‚ã¤ã¤ã€ã‚ã‚ã›ã¦è‡ªå‹•ãƒ†ã‚¹ãƒˆåŒ–ã®é›°å›²æ°—ã‚’æ´ã¿ã¾ã—ã‚‡ã†ã¨ã®ã“ã¨ã€‚

æ¥½ã—ã¿ã§ã™ã€‚

## [3.1 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](https://railstutorial.jp/chapters/static_pages?version=5.1#sec-sample_app_setup)

ã¾ãšã¯ä½œæ¥­ãƒ™ãƒ¼ã‚¹ã‚’æº–å‚™ã—ã¾ã™ã€‚1ã¤ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’å…¨ç« ã«æ¸¡ã£ã¦ä½¿ã„ç¶šã‘ã¦ã„ããŸã‚ã«ã€ç« ã”ã¨ã«ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã£ã¦ã€ãã‚Œãã‚Œã®ãƒ–ãƒ©ãƒ³ãƒãŒ1ã¤ã®Herokuã‚¢ãƒ—ãƒªã«å¯¾å¿œã™ã‚‹ã‚ˆã†ã«ã—ã¦ã‚ã‚Šã¾ã™ã€‚

ä»Šå›ã‚‚ã€ç¬¬3ç« ç”¨ã« `03` ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã£ã¦ã€Herokuã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã—ã¦ã€ `03` ãƒ–ãƒ©ãƒ³ãƒã‚’è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

![](https://tva1.sinaimg.cn/large/00831rSTgy1gd2h17mce5j31w80pydku.jpg)

ã¾ãŸã€ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒªãƒã‚¸ãƒˆãƒªã§ `heroku` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†å ´åˆã«å‚™ãˆã¦ã€ `heroku` ã‚³ãƒãƒ³ãƒ‰ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ã†ã‚¢ãƒ—ãƒªã‚‚åˆ‡ã‚Šæ›¿ãˆã¦ãŠãã¾ã™ã€‚

```bash
$ heroku git:remote -a {ç¬¬3ç« ç”¨ã®ã‚¢ãƒ—ãƒªå}
set git remote heroku to https://git.heroku.com/{ç¬¬3ç« ç”¨ã®ã‚¢ãƒ—ãƒªå}.git
```

ã§ã¯ã€æº–å‚™ãŒæ•´ã£ãŸã®ã§å§‹ã‚ã¦ã„ãã¾ã—ã‚‡ã†ğŸ’ª

ä¸€æ—¦æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚’ä½œã‚Šç›´ã™ã‚ˆã†ã§ã™ã€‚

```bash
$ rm -rf * .bundle .gitignore
$ rails _5.1.6_ new .
```

ä¸€åº¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç©ºã«ã—ã¦ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/8bc71c5d8dc15c54da1749a343dadc082a234665)ï¼‰ã€ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã« `rails new` ã—ã¾ã—ãŸï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/29538b504bcff66432894495ce10924b8e6dc32b)ï¼‰ã€‚

ã•ã‚‰ã«ã€å‰å›ã¾ã§ã¨åŒã˜ã‚ˆã†ã« `Gemfile` ã‚‚ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®æŒ‡å®šã®å†…å®¹ã«å¤‰æ›´ã—ã¾ã™ã€‚`Gemfile` ã‚’å¤‰æ›´ã—ãŸã‚‰ã€ `bundle install` ã—ã¦ `Gemfile.lock` ã‚‚æ›´æ–°ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/77b6ccd38efacff5d98fb7fa83d64898885013dd)ï¼‰

```bash
$ bundle update
$ bundle install --without production
```

READMEã‚‚å®Ÿéš›ã«ã‚¢ãƒ—ãƒªã®ä½¿ã„æ–¹ã‚„é–‹ç™ºæ‰‹é †ãŒåˆ†ã‹ã‚‹å†…å®¹ã«ã—ã¦ãŠãã¾ã—ã‚‡ã†ã¨ã„ã†ã“ã¨ã§ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ã‚³ãƒ”ãƒšã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/ed126b8eb33ab08e0ce88c399b102bcd205f1779)ï¼‰

ãƒ‡ãƒ—ãƒ­ã‚¤ãŒä¸Šæ‰‹ãã„ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã€ä»Šå›ã‚‚ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‚’hello worldã«ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/1d122b42265fdec858e9371f5c21b178d9c3a9a6)ï¼‰

![](https://tva1.sinaimg.cn/large/00831rSTgy1gd2i4dxit9j315w0r2n2b.jpg)

ç„¡äº‹ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¦ã„ã¾ã™ğŸ‘

## [3.2 é™çš„ãƒšãƒ¼ã‚¸](https://railstutorial.jp/chapters/static_pages?version=5.1#sec-static_pages)

é™çš„ãƒšãƒ¼ã‚¸ç”¨ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ç”Ÿæˆã—ã¾ã™ã€‚å‰å›ã®ã‚ˆã†ã« `rails generate scaffold` ã™ã‚‹ä»£ã‚ã‚Šã« `rails generate controller` ã¨ã™ã‚Œã°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã ã‘ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã§ã™ã€‚

```bash
$ rails generate controller StaticPages home help
```

ä¸€åº¦ç›®ã€å®Ÿè¡Œã—ã¦ã¿ã‚‹ã‚‚ä½•ã®å¿œç­”ã‚‚ãªã—ã€‚10åˆ†ãã‚‰ã„æ”¾ç½®ã—ã¦ã¿ãŸã‘ã©ä½•ã‚‚å¤‰åŒ–ãªã‹ã£ãŸã®ã§ã€PCã‚’å†èµ·å‹•ã—ãŸã‚‰å‹•ãã¾ã—ãŸã€‚ãªã‚“ã ã£ãŸã®ã‹ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/9893147dfb8ec8d16d30fa2ae36d44c14b00e8ea)ï¼‰

`rails generate controller` ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ä½œã‚‹ã¨ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨å¯¾å¿œã™ã‚‹ãƒ“ãƒ¥ãƒ¼ã‚‚ç”Ÿæˆã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚

```ruby
# config/routes.rb

Rails.application.routes.draw do
  get 'static_pages/home'

  get 'static_pages/help'

  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html
  root 'application#hello'
end
```

```html
<!-- app/views/static_pages/home.html.erb -->

<h1>StaticPages#home</h1>
<p>Find me in app/views/static_pages/home.html.erb</p>
```

`http://localhost:3000/static_pages/home` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

![](https://tva1.sinaimg.cn/large/00831rSTgy1gd2j9wt9k1j30ow08yjs3.jpg)

ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®èª¬æ˜ã«ã‚ˆã‚‹ã¨

> `get 'static_pages/home'`
> ã“ã®ãƒ«ãƒ¼ãƒ«ã¯ã€/static_pages/homeã¨ã„ã†URLã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã€StaticPagesã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã® `home` ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨çµã³ã¤ã‘ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ `get` ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ãŸã‚ã€GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã£ãŸã¨ãã«å¯¾å¿œã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’çµã³ã¤ã‘ã¦ã„ã¾ã™ã€‚

ã¨ã®ã“ã¨ã§ã™ã€‚ `static_pages/home` è‡ªä½“ã¯URLã‚’è¡¨ã—ã¦ã„ã‚‹ã‚ˆã†ã«æ€ãˆã¾ã™ãŒã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚„ãƒ“ãƒ¥ãƒ¼ã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒå‘½åè¦å‰‡ã«å¾“ã£ã¦ã„ã‚‹ãŸã‚ã«ã€URLã¨HTTPãƒ¡ã‚½ãƒƒãƒ‰ã ã‘ã‚’å®£è¨€ã—ã¦ãŠã‘ã°ã„ã„æ„Ÿã˜ã«ç¹‹ãŒã£ã¦ãã‚Œã‚‹ã¨ã„ã†ã“ã¨ãªã®ã§ã—ã‚‡ã†ã€‚ï¼ˆã¨ã‹æƒ³åƒã—ãªãŒã‚‰æ›¸ã„ã¦ã¾ã—ãŸãŒã€å°‘ã—å…ˆã‚’èª­ã¿é€²ã‚ã¦ã„ãã¨ãã®ã‚ˆã†ãªèª¬æ˜ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã—ãŸç¬‘ï¼‰

æœ€å¾Œã«ã€ã€Œä»Šä½œã‚‰ã‚Œã¦ã„ã‚‹é™çš„ãƒšãƒ¼ã‚¸ã®ãƒ“ãƒ¥ãƒ¼ã¯å˜ãªã‚‹é™çš„ãªHTMLãªã®ã§ã€HTMLã®çŸ¥è­˜ã ã‘ã§è©¦ã—ã«ä¿®æ­£ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€ã¨ã®ã“ã¨ã§ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ã¨ãŠã‚Šã«ä¿®æ­£ã—ã¦ã¿ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/6a25c425cb29b30e70d4b4f3f3e5fd1877740320)ï¼‰

ç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã¡ã‚ƒã‚“ã¨å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

![](https://tva1.sinaimg.cn/large/00831rSTgy1gd2jllya10j30yw08y0tl.jpg)

## [3.3 ãƒ†ã‚¹ãƒˆã‹ã‚‰å§‹ã‚ã‚‹](https://railstutorial.jp/chapters/static_pages?version=5.1#sec-getting_started_with_testing)

`Home` `Help` ã«åŠ ãˆã¦ `About` ã¨ã„ã†é™çš„ãƒšãƒ¼ã‚¸ã‚’åŠ ãˆã‚‹ã‚ˆã†ã§ã™ãŒã€ãã®éš›ã«ãƒ†ã‚¹ãƒˆé§†å‹•ã§ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ã¨ã„ã†ã“ã¨ã§ã™ã€‚

`rails generate controller` ã—ãŸã¨ãã«ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ãƒ†ã‚¹ãƒˆã¯ [é››å½¢ãŒã™ã§ã«ä½œæˆã•ã‚Œã¦ã„ã‚‹](https://railstutorial.jp/chapters/static_pages?version=5.1#code-default_controller_test) ã¨ã®ã“ã¨ã§ã™ã€‚

å†…å®¹çš„ã«ã¯ã€ï¼ˆ `static_pages_home_url` ã®ã‚ˆã†ãªä¸æ€è­°ãªã‚·ãƒ§ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ãŒï¼‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦200ãŒè¿”ã£ã¦ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã ã‘ã®æœ€ä½é™ã®æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã«ãªã£ã¦ã„ã¾ã™ã­ã€‚

ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã¯ `rails test` ã§è¡Œã†ã‚ˆã†ã§ã™ã€‚

```bash
$ rails test
#
# ãªã‚“ã‹ã„ã£ã±ã„è­¦å‘ŠãŒå‡ºã‚‹ã‘ã©ã¨ã‚Šã‚ãˆãšç„¡è¦–
#
Finished in 1.072504s, 1.8648 runs/s, 1.8648 assertions/s.

2 runs, 2 assertions, 0 failures, 0 errors, 0 skips
```

Aboutãƒšãƒ¼ã‚¸ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã—ã¦ãƒ†ã‚¹ãƒˆãŒREDã«ãªã‚‹ï¼ˆå¤±æ•—ã™ã‚‹ï¼‰ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã¨ã®ã“ã¨ã§ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/f360c867ce4c5adeb7f00f98081fed6defc97baa)ï¼‰

```bash
$ rails test

Finished in 0.838271s, 3.5788 runs/s, 2.3859 assertions/s.

  1) Error:
StaticPagesControllerTest#test_should_get_about:
NameError: undefined local variable or method `static_pages_about_url' for #<StaticPagesControllerTest:0x00007fef67731b40>
    test/controllers/static_pages_controller_test.rb:15:in `block in <class:StaticPagesControllerTest>'

3 runs, 2 assertions, 0 failures, 1 errors, 0 skips
```

`static_pages_about_url` ãŒæœªå®šç¾©ã ã¨æ€’ã‚‰ã‚Œã¦ã„ã¾ã™ã­ã€‚æœŸå¾…ã©ãŠã‚Šã®çµæœã§ã™ã€‚

ã“ã®ãƒ†ã‚¹ãƒˆã‚’ãƒ‘ã‚¹ã•ã›ã‚‹ã¹ãã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/26299f660681ee2415de31ff28495680887952a9)ï¼‰

ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨

```bash
$ rails test

Finished in 0.461982s, 6.4938 runs/s, 4.3292 assertions/s.

  1) Error:
StaticPagesControllerTest#test_should_get_about:
AbstractController::ActionNotFound: The action 'about' could not be found for StaticPagesController
    test/controllers/static_pages_controller_test.rb:15:in `block in <class:StaticPagesControllerTest>'

3 runs, 2 assertions, 0 failures, 1 errors, 0 skips
```

ã‚¨ãƒ©ãƒ¼ã®å†…å®¹ãŒå¤‰ã‚ã‚Šã¾ã—ãŸã€‚ `The action 'about' could not be found for StaticPagesController` ã¨ã„ã†ã“ã¨ã§ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒãªã„ã‚ˆã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚

ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/300601bfd454974dfb62c76dcfafabeed229153b)ï¼‰

```bash
$ rails test

Finished in 1.119905s, 2.6788 runs/s, 1.7859 assertions/s.

  1) Error:
StaticPagesControllerTest#test_should_get_about:
ActionController::UnknownFormat: StaticPagesController#about is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.
    test/controllers/static_pages_controller_test.rb:15:in `block in <class:StaticPagesControllerTest>'

3 runs, 2 assertions, 0 failures, 1 errors, 0 skips
```

ä»Šåº¦ã¯ `StaticPagesController#about is missing a template for this request format and variant.` ã¨ã„ã†ã“ã¨ã§ãƒ“ãƒ¥ãƒ¼ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒãªã„ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ã§ã™ã­ã€‚

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/a294af1768b7cc602836e8be81587d06b329c985)ï¼‰

```bash
$ rails test

Finished in 0.505127s, 5.9391 runs/s, 5.9391 assertions/s.

3 runs, 3 assertions, 0 failures, 0 errors, 0 skips
```

ã‚„ã£ã¨ãƒ†ã‚¹ãƒˆãŒGREENã«ãªã‚Šã¾ã—ãŸğŸ‘

## [3.4 å°‘ã—ã ã‘å‹•çš„ãªãƒšãƒ¼ã‚¸](https://railstutorial.jp/chapters/static_pages?version=5.1#sec-slightly_dynamic_pages)

æ¬¡ã¯ã€å…ˆã»ã©ä½œã£ãŸé™çš„ãƒšãƒ¼ã‚¸ãŸã¡ã‚’å°‘ã—ã ã‘å‹•çš„ã«ã—ã¾ã™ã€‚

å…·ä½“çš„ã«ã¯ `<title>` ã‚¿ã‚°ã®å†…å®¹ãŒã€ãƒšãƒ¼ã‚¸ã”ã¨ã« `<ãƒšãƒ¼ã‚¸å> | Ruby on Rails Tutorial Sample App` ã«ãªã‚‹ã‚ˆã†ã«ã™ã‚‹ãã†ã§ã™ã€‚

å„ãƒšãƒ¼ã‚¸ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«åˆ¥ã€…ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸã®ã§ã¯å‹•çš„ã«ã™ã‚‹æ„å‘³ãŒä½•ã‚‚ãªã„ã®ã§ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚³ãƒ¼ãƒ‰ã‚’é›†ç´„ã—ã¦ã€1ã¤ã®ã‚³ãƒ¼ãƒ‰ã§ãƒšãƒ¼ã‚¸ã”ã¨ã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’å‡ºã—åˆ†ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚ˆã†ã§ã™ã€‚

ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ `rails new` ã—ãŸã¨ãã«è‡ªå‹•ã§ä½œã‚‰ã‚Œã¦ã„ã‚‹ï¼ˆ `app/views/layouts/application.html.erb` ï¼‰ã®ã§ã™ãŒã€å­¦ç¿’ã®ãŸã‚ã«ä¸€æ—¦ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½¿ã‚ãšã€åˆ¥ã®å ´æ‰€ã«é€€é¿ã—ã¦ãŠãã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/86d65efd5bc5d973af83ad61c60b5c1f36cb22df)ï¼‰

```bash
$ mv app/views/layouts/application.html.erb layout_file
```

æº–å‚™ãŒã§ããŸã¨ã“ã‚ã§ã€ã¾ãšã¯REDã«ãªã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/cf44d1615de6c8117a3d3d1a893c8b7b66091bc7)ï¼‰

```bash
$ rails test
3 tests, 6 assertions, 3 failures, 0 errors, 0 skips
```

æ¬¡ã«ã€ã¾ãšã¯ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½¿ã‚ãšã«å„é™çš„ãƒšãƒ¼ã‚¸ã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’é©åˆ‡ã«ä»˜åŠ ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/877404f504709a4621d775ddcd184382c96ed922)ï¼‰

ã“ã‚Œã«ã‚ˆã‚Šã²ã¨ã¾ãšãƒ†ã‚¹ãƒˆã¯GREENã«ãªã‚Šã¾ã™ã€‚

```bash
$ rails test
3 tests, 6 assertions, 0 failures, 0 errors, 0 skips
```

ã“ã“ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’ãªãã™ãŸã‚ã« `setup` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/cb2da5f310a5b65ca6b87d400695b7ede35e49e8)ï¼‰

```bash
$ rails test
3 tests, 6 assertions, 0 failures, 0 errors, 0 skips
```

ãƒ†ã‚¹ãƒˆã¯å£Šã‚Œã¦ã„ã¾ã›ã‚“ğŸ‘

ã§ã¯ã„ã‚ˆã„ã‚ˆã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½¿ã£ã¦ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã®ã»ã†ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã—ã¾ã™ã€‚

ã¾ãšã¯ç¬¬1ã‚¹ãƒ†ãƒƒãƒ—ã¨ã—ã¦ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã«åŸ‹ã‚è¾¼ã¿Rubyãªã‚‹ã‚‚ã®ã‚’ä½¿ã£ã¦ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¤‰æ•°åŒ–ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/fb7784bc284359e1c3db8d69f1d2a1b035bb1d25)ï¼‰

* `provide()` ã¯RailsãŒæä¾›ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”¨ã®ãƒ¡ã‚½ãƒƒãƒ‰ï¼Ÿï¼‰
* `<% %>` ã¯å®Ÿè¡Œã™ã‚‹ã®ã¿ã€ `<%= %>` ã¯å®Ÿè¡Œçµæœã‚’å‡ºåŠ›ã™ã‚‹

ã ãã†ã§ã™ã€‚

ç¬¬2ã‚¹ãƒ†ãƒƒãƒ—ã§ã€å„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å…±é€šéƒ¨åˆ†ã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ç§»å‹•ã•ã›ã¾ã™ã€‚

ã¾ãšã¯ã€å­¦ç¿’ã®ãŸã‚ã«ä¸€æ—¦é€€é¿ã—ã¦ã‚ã£ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æˆ»ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/527195ed43770490bbe39f5e3433468ec85210f3)ï¼‰

```bash
$ mv layout_file app/views/layouts/application.html.erb
```

ç¶šã„ã¦ã€å„é™çš„ãƒšãƒ¼ã‚¸ã®å…±é€šã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ä»»ã›ã‚‹å½¢ã§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/99ff526446a7274be6255002d95c0dfd19265030)ï¼‰

```bash
$ rails test
3 tests, 6 assertions, 0 failures, 0 errors, 0 skips
```

ãƒ†ã‚¹ãƒˆã¯å£Šã‚Œã¦ã„ã¾ã›ã‚“ğŸ‘

æ¼”ç¿’ã§Contactãƒšãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã¨ã„ã†ã“ã¨ãªã®ã§ã€ã“ã‚Œã¾ã§ã®æ‰‹é †ã«å¾“ã£ã¦ä»¥ä¸‹ã®ã¨ãŠã‚Šå®Ÿæ–½ã—ã¾ã™ã€‚

* ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ï¼ˆREDï¼‰
* ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ 
* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
* ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¿½åŠ ï¼ˆGREENã«ï¼‰

ä»Šå›ã¯1ã‚³ãƒŸãƒƒãƒˆã§ä¸€æ°—ã«æ›¸ãã¾ã—ãŸã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/94558ce9bf73c92d746da50ca679d668d39023af)ï¼‰

```bash
$ rails test
4 runs, 8 assertions, 0 failures, 0 errors, 0 skips
```

ãƒ†ã‚¹ãƒˆã‚‚é€šã£ã¦ã„ã¾ã™ğŸ‘

æœ€å¾Œã«ã€ãƒ«ãƒ¼ãƒˆã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’Homeã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚

`static_pages_home_url` ãªã©ã¨åŒã˜ã‚ˆã†ã«ã€ `root_url` ã¨ã„ã†Railãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚‚ã‚ã£ã¦ã€ãƒ«ãƒ¼ãƒˆã®URLã‚’å–å¾—ã§ãã‚‹ã¨ã®ã“ã¨ã§ã€ã“ã‚Œã‚’ä½¿ã£ã¦ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã®æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã¨ã„ã†æ¼”ç¿’ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã“ã¾ã§ä¸€æ°—ã«å¯¾å¿œã—ã¾ã™ã€‚ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/7179c0cb161eb484d05904965a06fc1d343b7dd9)ï¼‰

```bash
$ rails test
5 runs, 9 assertions, 0 failures, 0 errors, 0 skips
```

ãƒ†ã‚¹ãƒˆã‚‚é€šã£ã¦ã„ã¾ã™ğŸ‘

## [3.5 æœ€å¾Œã«](https://railstutorial.jp/chapters/static_pages?version=5.1#sec-static_pages_conclusion)

ã¯ã„ã€‚

## [3.6 é«˜åº¦ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](https://railstutorial.jp/chapters/static_pages?version=5.1#sec-advanced_testing_setup)

ä»Šå¾Œã®ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã‚’ä¾¿åˆ©ã«ã™ã‚‹ãŸã‚ã«ã€

* minitest-reportersã‚’æœ‰åŠ¹ã«ã—ã¦CLIã§ã®ãƒ†ã‚¹ãƒˆçµæœã‚’è¦‹ã‚„ã™ãã™ã‚‹
* [Guard](https://github.com/guard/guard) ã‚’å°å…¥ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´æ¤œçŸ¥ã‹ã‚‰è‡ªå‹•ã§å·®åˆ†ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹

ã®2ã¤ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã—ã‚‡ã†ã¨ã„ã†ã“ã¨ã§ã™ã€‚

minitest-reportersã®å°å…¥ã¯å•é¡Œãªã‹ã£ãŸï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/392f4385d0f7311d15cfdb01ab2c395ab060d3cb)ï¼‰ã®ã§ã™ãŒã€Guardã®ã»ã†ãŒã‚¨ãƒ©ãƒ¼ã§èµ·å‹•ã§ãã¾ã›ã‚“ãƒ»ãƒ»ãƒ»ğŸ˜“

ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ã¨ãŠã‚Šã«Guardfileã‚’ç”¨æ„ã—ã¦ï¼ˆ[ã‚³ãƒŸãƒƒãƒˆ](https://github.com/ttskch/railstutorial/pull/4/commits/c202de74008f2ab0c742f6655ec393821cabc247)ï¼‰èµ·å‹•ã—ã¦ã¿ã‚‹ã¨ã€

```bash
$ bundle exec guard

/Users/xxx/.gem/gems/guard-2.13.0/lib/guard/jobs/pry_wrapper.rb:131:in `_setup': undefined method `file=' for #<Pry::History:0x00007fc712029a78>
Did you mean?  filter (NoMethodError)
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/jobs/pry_wrapper.rb:68:in `initialize'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/interactor.rb:15:in `new'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/interactor.rb:15:in `initialize'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard.rb:67:in `new'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard.rb:67:in `setup'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/commander.rb:32:in `start'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/cli/environments/valid.rb:16:in `start_guard'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/cli.rb:122:in `start'
        from /Users/xxx/.gem/gems/thor-1.0.1/lib/thor/command.rb:27:in `run'
        from /Users/xxx/.gem/gems/thor-1.0.1/lib/thor/invocation.rb:127:in `invoke_command'
        from /Users/xxx/.gem/gems/thor-1.0.1/lib/thor.rb:392:in `dispatch'
        from /Users/xxx/.gem/gems/thor-1.0.1/lib/thor/base.rb:485:in `start'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/aruba_adapter.rb:32:in `execute'
        from /Users/xxx/.gem/gems/guard-2.13.0/lib/guard/aruba_adapter.rb:19:in `execute!'
        from /Users/xxx/.gem/gems/guard-2.13.0/bin/_guard-core:11:in `<main>'
```

Guardã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å†…ã§ `undefined method` ã¨ã‹è¨€ã‚ã‚Œã¦ã—ã¾ã„ã¾ã™ãƒ»ãƒ»ãƒ»

ã‚½ãƒ¼ã‚¹ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€[ã“ã®éƒ¨åˆ†](https://github.com/guard/guard/blob/288a54317183cc8ff2b8434eabfa8af8119ad5f1/lib/guard/jobs/pry_wrapper.rb#L137)

```ruby
Pry.config.history.file = File.expand_path(history_file_path)
```

ã§ã€ãªãœã‹ã€Œ `file=` ãªã‚“ã¦ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ãªã„ã‚ˆã€ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ã¾ã£ãŸãã®è¬ã§ã™ã€‚ã€‚ã€‚

ã²ã¨ã—ãã‚Šã‚°ã‚°ã£ã¦ã¿ã‚‹ã‚‚è§£æ±ºã®ç³¸å£ã‚‚ä½•ã‚‚è¦‹ãˆãšã€‚ã€‚ã€‚ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®æœ¬ç­‹ã§ã¯ãªã„ã®ã§ä¸€æ—¦è«¦ã‚ã¦ç„¡è¦–ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚

é ‘å¼µã£ã¦ç¬¬3ç« ã‚„ã£ã¦ããŸã®ã«ã€æœ€å¾Œã®æœ€å¾Œã«æ°—æŒã¡æ‚ªã„çµæœã«ãªã‚Šã¾ã—ãŸğŸ˜­

# ä»Šå›ã®ã¾ã¨ã‚

* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®é››å½¢ä½œæˆã¯ `rails g controller`
* ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã¯ `rails test`
* Railsã®ãƒ“ãƒ¥ãƒ¼ã¯ERBï¼ˆEmbedded RuByï¼‰å½¢å¼ãªã®ã§ã€åŸ‹ã‚è¾¼ã¿RubyãŒä½¿ãˆã‚‹ï¼ˆ `<% %>` ã¯å®Ÿè¡Œã®ã¿ã€ `<%= %>` ã¯å®Ÿè¡Œçµæœã‚’å‡ºåŠ›ï¼‰
    * PHPã£ã½ã„
* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã® `<%= yield %>` ã®éƒ¨åˆ†ã«å„ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå‡ºåŠ›ã•ã‚Œã‚‹
* GuardãŒå‹•ã„ã¦ãã‚Œãªã„ã‘ã©åŸå› ãŒã¾ã£ãŸãåˆ†ã‹ã‚‰ãªã„ã®ã§ä¸€æ—¦ç„¡è¦–ãƒ»ãƒ»ãƒ»
* æ¬¡å›ã‚‚é ‘å¼µã‚Šã¾ã™ï¼
