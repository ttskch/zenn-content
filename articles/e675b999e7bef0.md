---
title: "Angular + Angular Material + Tailwind CSS ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•"
emoji: "ğŸ’»"
type: "tech"
topics: ["javascript", "typescript", "angular", "tailwindcss"]
published: true
published_at: 2020-06-07
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-06-07ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

[Angular](https://angular.io/) + [Angular Material](https://material.angular.io/) + [Tailwind CSS](https://tailwindcss.com/) ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒæ„å¤–ã¨é›£ã—ã‹ã£ãŸã®ã§å‚™å¿˜éŒ²ã§ã™ã€‚

# Angular + Angular Materialã¾ã§

ã“ã‚Œã¯ã»ã¨ã‚“ã©èª¬æ˜ä¸è¦ã§ã€[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://material.angular.io/guide/getting-started) ã®ã¨ãŠã‚Š

```bash
$ ng add @angular/material
```

ã™ã‚‹ã ã‘ã§ã™ã€‚

ã‚ã¨ã¯å¥½ããªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆä¾‹ãˆã° [ãƒ„ãƒ¼ãƒ«ãƒãƒ¼](https://material.angular.io/components/toolbar/api) ã‚’ä½¿ã†ã¨ãã¯ `MatToolbarModule` ï¼‰ã‚’èª­ã¿è¾¼ã‚ã°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãŒæ™®é€šã«ä½¿ãˆã¾ã™ã€‚

# Tailwind CSSã‚’è¿½åŠ ã§å°å…¥

ç°¡å˜ãªæ–¹æ³•ã¨é›£ã—ã„æ–¹æ³•ã®2ã¤ãŒã‚ã‚Šã¾ã™ã€‚

**ç°¡å˜ãªæ–¹æ³•**

ç°¡å˜ãªæ–¹æ³•ã¯ã€

```bash
$ npm install tailwindcss
# ã¾ãŸã¯
$ yarn add tailwindcss
```

ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€ `angular.json` ã§ `styles` ã«ä»¥ä¸‹ã®3ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŠ ãˆã‚‹ã ã‘ã§ã™ğŸ˜‡

```diff
"styles": [
- "src/styles.scss"
+ "src/styles.scss",
+ "node_modules/tailwindcss/dist/base.css",
+ "node_modules/tailwindcss/dist/components.css",
+ "node_modules/tailwindcss/dist/utilities.css",
],
```

ã“ã‚Œã§ã€ã¨ã‚Šã‚ãˆãšè‡ªåˆ†ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸­ã§æ™®é€šã«Tailwind CSSã®å„ç¨®ã‚¯ãƒ©ã‚¹ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ãŒã€ã“ã‚Œã ã¨ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã®CSSã‚’ãŸã èª­ã¿è¾¼ã‚€ã ã‘ãªã®ã§ã€[ã“ã“ã«æ›¸ã„ã¦ã‚ã‚‹ã‚ˆã†ãª](https://tailwindcss.com/docs/installation#using-tailwind-via-cdn) åˆ¶ç´„ã‚’å—ã‘ã¾ã™ã€‚ç‰¹ã« `@apply` ãªã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãŒä½¿ãˆãªã„ã®ã¯ã ã„ã¶ä¸ä¾¿ã§ã™ã€‚

**é›£ã—ã„æ–¹æ³•ï¼ˆãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã«çµ„ã¿è¾¼ã‚€ï¼‰**

ä¸Šè¨˜ã®ã‚ˆã†ãªåˆ¶ç´„ã‚’å—ã‘ãšã«Tailwind CSSã®æœ¬æ¥ã®æ©Ÿèƒ½ã‚’ãƒ•ãƒ«ã«ä½¿ã„ãŸã„å ´åˆã¯ã€webpackã®ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã«çµ„ã¿è¾¼ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä¸€èˆ¬çš„ãªæ‰‹é †ã¯ [ã“ã¡ã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tailwindcss.com/docs/using-with-preprocessors) ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’Angularãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨ã—ã¦ã‚ã’ã‚Œã°OKã§ã™ã€‚

[tailwindcss/setup-examples](https://github.com/tailwindcss/setup-examples) ãƒªãƒã‚¸ãƒˆãƒªã« [Angularå‘ã‘ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®PR](https://github.com/tailwindcss/setup-examples/pull/35) ãŒã‚ã£ãŸã®ã§ã“ã‚Œã‚’å‚è€ƒã«ã—ãŸã®ã§ã™ãŒã€Angular Materialã‚’å°å…¥æ¸ˆã¿ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä¸€éƒ¨ã“ã®é€šã‚Šã§ã¯ä¸Šæ‰‹ãã„ã‹ãªã„ã¨ã“ã‚ãŒã‚ã‚Šã¾ã—ãŸã€‚

ãªã®ã§ã€ä»¥ä¸‹ã«åƒ•ã®ç’°å¢ƒã§å®Ÿéš›ã«ã‚„ã£ãŸã“ã¨ã‚’ç¤ºã—ã¾ã™âœ‹

## 1. å¿…è¦ãªä¾å­˜ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
$ npm install -D tailwindcss postcss-import postcss-scss @fullhuman/postcss-purgecss @angular-builders/custom-webpack
# ã¾ãŸã¯
$ yarn add -D tailwindcss postcss-import postcss-scss @fullhuman/postcss-purgecss @angular-builders/custom-webpack
```

## 2. `angular.json` ã‚’ç·¨é›†

ä¸Šã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ [@angular-builders/custom-webpack](https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack) ã‚’ä½¿ã£ã¦webpackã®è¨­å®šã‚’æ‹¡å¼µã™ã‚‹ãŸã‚ã€ `angular.json` ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚

```diff
"build": {
- "builder": "@angular-devkit/build-angular:browser",
+ "builder": "@angular-builders/custom-webpack:browser",
  "options": {
+   "customWebpackConfig": {
+     "path": "./webpack.config.dev.js"
+   },
    "outputPath": "dist/angular-cli",
    "index": "src/index.html",
    "main": "src/main.ts",

    (...)

  "configurations": {
    "production": {
+     "customWebpackConfig": {
+       "path": "./webpack.config.prod.js"
+     },
      "fileReplacements": [
         {
           "replace": "src/environments/environment.ts",
           "with": "src/environments/environment.prod.ts"
         }
```

```diff
"serve": {
- "builder": "@angular-devkit/build-angular:dev-server",
+ "builder": "@angular-builders/custom-webpack:dev-server",
  "options": {
+   "customWebpackConfig": {
+     "path": "./webpack.config.dev.js"
+   },
    "browserTarget": "xxx:build"
  },
  "configurations": {
    "production": {
+     "customWebpackConfig": {
+       "path": "./webpack.config.prod.js"
+     },
      "browserTarget": "xxx:build:production"
    }
  }
},
```

## 3. webpackã®è¿½åŠ è¨­å®šã‚’æ›¸ã

ã“ã“ã€ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚

Angular Materialã‚’å°å…¥ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã€ `.scss` ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ `postcss-loader` ã ã‘ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‚ˆã†ãªè¨­å®šã‚’æ›¸ã„ã¦ã—ã¾ã†ã¨

```
Error: Failed to find '~@angular/material/theming'
```

ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚ã“ã®å ´åˆã€ `postcss-loader` ã ã‘ã§ãªã `sass-loader` ã‚‚æœ‰åŠ¹ã«ã—ã¦ã‚ã’ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ï¼ˆ[å‚è€ƒ](https://github.com/tailwindcss/tailwindcss/issues/1733#issuecomment-625872876)ï¼‰

[setup-examplesã®PR](https://github.com/tailwindcss/setup-examples/pull/35) ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã¨ãŠã‚Šã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ã§ã®ã¿ [purge-css](https://github.com/FullHuman/purgecss/tree/master/packages/postcss-purgecss) ã§ç„¡é§„ãªCSSã‚’å‰Šé™¤ã™ã‚‹ãŸã‚ã«ã€2ãƒ•ã‚¡ã‚¤ãƒ«ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚ï¼ˆä¸Šè¨˜ã® `angular.json` ã§ `customWebpackConfig` ã®ãƒ‘ã‚¹ã‚’2ç¨®é¡ä½¿ã„åˆ†ã‘ã¦ã„ã¾ã™ï¼‰

```js
// webpack.config.dev.js
module.exports = {
  module: {
    rules: [
      {
        test: /\.scss$/,
        use: [
          {
            loader: 'postcss-loader',
            options: {
              ident: 'postcss',
              syntax: 'postcss-scss',
              plugins: () => [
                require('postcss-import'),
                require('tailwindcss'),
                require('autoprefixer'),
              ],
            },
          },
          {
            loader: 'sass-loader',
            options: {},
          },
        ],
      },
    ],
  },
};
```

```js
// webpack.config.prod.js
module.exports = {
  module: {
    rules: [
      {
        test: /\.scss$/,
        use: [
          {
            loader: 'postcss-loader',
            options: {
              ident: 'postcss',
              syntax: 'postcss-scss',
              plugins: () => [
                require('postcss-import'),
                require('tailwindcss'),
                require('autoprefixer'),
                require('@fullhuman/postcss-purgecss')({
                  // Specify the paths to all of the template files in your project
                  content: [
                    './src/**/*.html',
                    './src/**/*.ts',
                    // etc.
                  ],
                  // Include any special characters you're using in this regular expression
                  defaultExtractor: content =>
                    content.match(/[A-Za-z0-9-_:/]+/g) || []
                }),
              ],
            },
          },
          {
            loader: 'sass-loader',
            options: {},
          },
        ],
      },
    ],
  },
};
```

## 4. `tailwind.config.js` ã‚’ç”Ÿæˆ

```bash
$ npx tailwind init
```

ä¸­èº«ãŒç©ºã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚è¨­å®šã‚’å¤‰ãˆãŸã„ã®ã§ãªã‘ã‚Œã°ç‰¹ã«ã„ã˜ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## 5. `src/styles.scss` ã§Tailwindã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€

åƒ•ã¯Angular Materialã‚’ [ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ](https://material.angular.io/guide/theming) ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãŸã®ã§ `styles.scss` ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªçŠ¶æ…‹ã§ã—ãŸã€‚

æœ«å°¾ï¼ˆå…ˆé ­ã§ã‚‚ã„ã„ã‘ã©ï¼‰ã«Tailwind CSSã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’è¿½è¨˜ã™ã‚Œã°OKã§ã™ã€‚

```diff
// Custom Theming for Angular Material
// For more information: https://material.angular.io/guide/theming
@import '~@angular/material/theming';
// Plus imports for other components in your app.

// Include the common styles for Angular Material. We include this here so that you only
// have to load a single css file for Angular Material in your app.
// Be sure that you only ever include this mixin once!
@include mat-core();

// Define the palettes for your theme using the Material Design palettes available in palette.scss
// (imported above). For each palette, you can optionally specify a default, lighter, and darker
// hue. Available color palettes: https://material.io/design/color/
$app-primary: mat-palette($mat-amber);
$app-accent: mat-palette($mat-pink, A200, A100, A400);

// The warn palette is optional (defaults to red).
$app-warn: mat-palette($mat-red);

// Create the theme object (a Sass map containing all of the palettes).
$app-theme: mat-light-theme($app-primary, $app-accent, $app-warn);

// Include theme styles for core and each component used in your app.
// Alternatively, you can import and @include the theme mixins for each component
// that you are using.
@include angular-material-theme($app-theme);

/* You can add global styles to this file, and also import other style files */

html, body { height: 100%; }
body { margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; }
+
+ @import '~tailwindcss/base';
+ @import '~tailwindcss/components';
+ @import '~tailwindcss/utilities';
```

# ã¾ã¨ã‚

Angular + Angular Materialãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã€è¿½åŠ ã§Tailwind CSSã‚’å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚
