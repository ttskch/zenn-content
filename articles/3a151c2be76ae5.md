---
title: "[Flutter] åå‰ä»˜ããƒ«ãƒ¼ãƒˆã«å¼•æ•°ã‚’æ¸¡ã—ã¦ç”»é¢é·ç§»ã™ã‚‹éš›ã€å¼•æ•°ã‚’ã‚‚ã¨ã«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’å‹•çš„ã«åˆæœŸåŒ–ã™ã‚‹æ–¹æ³•"
emoji: "ğŸ’»"
type: "tech"
topics: ["flutter"]
published: true
published_at: 2020-07-10
---

:::message
ã“ã®è¨˜äº‹ã¯ã€2020-07-10ã«åˆ¥ã®ãƒ–ãƒ­ã‚°åª’ä½“ã«æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã§ã™ã€‚
:::

# å‰æ

## åŸå§‹çš„ãªç”»é¢é·ç§»

æœ€ã‚‚åŸå§‹çš„ãªç”»é¢é·ç§»ã®æ–¹æ³•ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã« `Navigator.push()` ã‚’ä½¿ã†æ–¹æ³•ã§ã™ã€‚

```dart
onPressed: () {
  Navigator.of(context).push(
    MaterialPageRoute(
      builder: (context) => SomePageWidget(),
    ),
  );
}
```

> å‚è€ƒï¼š[Navigate to a new screen and back - Flutter](https://flutter.dev/docs/cookbook/navigation/navigation-basics)

## åå‰ä»˜ããƒ«ãƒ¼ãƒˆã‚’ä½¿ã£ãŸç”»é¢é·ç§»

ç”»é¢ã®æ•°ã‚„ç”»é¢é·ç§»ã®æ•°ãŒã‚ã‚‹ç¨‹åº¦å¤šã„ã‚¢ãƒ—ãƒªã«ãªã£ã¦ãã‚‹ã¨ã€ä¸Šè¨˜ã®æ–¹æ³•ã ã¨ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ãŒæ°—ã«ãªã‚Šã¾ã™ã€‚

ã“ã®å•é¡Œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«åå‰ä»˜ããƒ«ãƒ¼ãƒˆã‚’ä½¿ã†ã“ã¨ã§è§£æ±ºã§ãã¾ã™ã€‚

```dart
MaterialApp(
  initialRoute: '/',
  routes: {
    '/': (context) => FirstPageWidget(),
    '/second': (context) => SecondPageWidget(),
    '/third': (context) => ThirdPageWidget(title: 'Third page'),
  },
);
```

```dart
onPressed: () => Navigator.of(context).pushNamed('/third')
```

`MaterialApp` ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å®šç¾©ã—ã¦ã€ `Navigator.pushNamed()` ã«ãƒ«ãƒ¼ãƒˆåã‚’æ¸¡ã™ã“ã¨ã§ç”»é¢é·ç§»ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã‚ã‘ã§ã™ã€‚ä¾¿åˆ©ã§ã™ã­ï¼

> å‚è€ƒï¼š[Navigate with named routes - Flutter](https://flutter.dev/docs/cookbook/navigation/named-routes)

# åå‰ä»˜ããƒ«ãƒ¼ãƒˆã«å¼•æ•°ã‚’æ¸¡ã—ã¦ç”»é¢é·ç§»

ã•ã¦ã€é·ç§»å…ˆã®ãƒšãƒ¼ã‚¸ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒå¼•æ•°ãªã—ã§åˆæœŸåŒ–ã§ãã‚‹å ´åˆã‚„ã€åˆæœŸåŒ–ã«å¿…è¦ãªå¼•æ•°ãŒå®šæ•°ã®å ´åˆã¯ã€ä¸Šè¨˜ã®æ–¹æ³•ã§ä½•ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

ãŒã€ä»Šã„ã‚‹ãƒšãƒ¼ã‚¸ã§ã—ã‹çŸ¥ã‚Šå¾—ãªã„æƒ…å ±ã‚’å¼•æ•°ã¨ã—ã¦æ¸¡ã—ã¦æ¬¡ãƒšãƒ¼ã‚¸ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’åˆæœŸåŒ–ã—ãŸã„ã‚ˆã†ãªå ´åˆã¯ã€å°‘ã—å„ä»‹ã§ã™ã€‚

`Navigator.push()` ã‚’ä½¿ã£ãŸåŸå§‹çš„ãªç”»é¢é·ç§»ã ã£ãŸãªã‚‰

```dart
onPressed: () {
  Navigator.of(context).push(
    MaterialPageRoute(
      builder: (context) => SomePageWidget(someDynamicValue),
    ),
  );
}
```

ã®ã‚ˆã†ã«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ç›´æ¥å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ä½•ã‚‚é›£ã—ã„ã“ã¨ã¯ãªã‹ã£ãŸã®ã§ã™ãŒã€åå‰ä»˜ããƒ«ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ã“ã†ã¯è¡Œãã¾ã›ã‚“ã€‚

ã©ã†ã™ã‚Œã°ã„ã„ã‹ã¨ã„ã†ã¨ã€ `MaterialApp` ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•° `onGenerateRoute` ã‚’ä½¿ã„ã¾ã™ã€‚

å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚

```dart
MaterialApp(
  initialRoute: '/',
  routes: {
    '/': (context) => FirstPageWidget(),
    '/second': (context) => SecondPageWidget(),
    '/third': (context) => ThirdPageWidget(title: 'Third page'),
  },
  onGenerateRoute: (settings) {
    if (settings.name == '/fourth') {
      return MaterialPageRoute(
        builder: (context) => FourthPageWidget(settings.arguments),
      );
    }
    return null;
  },
);
```

```dart
onPressed: () => Navigator.of(context).pushNamed('/fourth', arguments: someDynamicValue)
```

é€šå¸¸ã® `routes:` ã‚’ä½¿ã£ãŸãƒ«ãƒ¼ãƒˆå®šç¾©ã¨ã¯åˆ¥ã«ã€ `onGenerateRoute:` ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å†…ã§ãƒ«ãƒ¼ãƒˆåã‚’ãƒ•ãƒƒã‚¯ã—ã¦å‹•çš„ã«é·ç§»å…ˆãƒšãƒ¼ã‚¸ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹æ„Ÿã˜ã§ã™ã€‚

ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒå—ã‘å–ã‚‹ `settings` ã® `arguments` ã«ã€ `Navigator.pushNamed()` ã®å¼•æ•° `arguments` ã§æ¸¡ã•ã‚ŒãŸå€¤ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚ï¼ˆ `arguments` ã¨è¤‡æ•°å½¢ã®åå‰ã§ã™ãŒã€ç‰¹ã«é…åˆ—ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æœŸå¾…ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã [å‹ã¯ `Object` ã§ã™](https://github.com/flutter/flutter/blob/fd80503fd33ae2552763a85328a5dba8e8e9e0c5/packages/flutter/lib/src/widgets/navigator.dart#L1609)ï¼‰

> å‚è€ƒï¼š[Pass arguments to a named route - Flutter # Alternatively, extract the arguments using onGenerateRoute](https://flutter.dev/docs/cookbook/navigation/navigate-with-arguments#alternatively-extract-the-arguments-using-ongenerateroute)
> å‚è€ƒï¼š[Flutterã®Navigationã¨Routingã‚’ç†è§£ã™ã‚‹](https://itome.team/blog/2019/12/flutter-advent-calendar-day10/)

## å¼•æ•°ã§æ¸¡ã•ã‚ŒãŸå€¤ã‚’ãŸã è¡¨ç¤ºã§ãã‚Œã°ã„ã„ã ã‘ã®å ´åˆ

å¼•æ•°ã§æ¸¡ã—ãŸå€¤ã‚’ã‚‚ã¨ã«é·ç§»å…ˆãƒšãƒ¼ã‚¸ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ **åˆæœŸåŒ–** ã™ã‚‹å¿…è¦ãŒãªãã¦ã€å˜ã«æ¸¡ã—ãŸå€¤ã‚’ **è¡¨ç¤º** ã§ãã‚Œã°ã„ã„ã ã‘ã¨ã„ã†å ´åˆã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã« `build()` ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§ `ModalRoute.settings.arguments` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§æ¸¡ã•ã‚ŒãŸå¼•æ•°ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```dart
class SecondPageWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {

    // Navigatorã«æ¸¡ã•ã‚ŒãŸå¼•æ•°ã‚’ã“ã“ã§å—ã‘å–ã‚‹
    final args = ModalRoute.of(context).settings.arguments;

    return Scaffold(
      appBar: AppBar(
        title: Text(args['title']),
      ),
      body: Center(
        child: Text(args['message']),
      ),
    );
  }
}
```

```dart
onPressed: () => Navigator.of(context).pushNamed('/second', arguments: {'title': someDynamicValue1, 'message': someDynamicValue2})
```

> å‚è€ƒï¼š[Pass arguments to a named route - Flutter](https://flutter.dev/docs/cookbook/navigation/navigate-with-arguments)

# ã¾ã¨ã‚

* Flutterã§åå‰ä»˜ããƒ«ãƒ¼ãƒˆã«å¼•æ•°ã‚’æ¸¡ã—ã¦ç”»é¢é·ç§»ã™ã‚‹éš›ã€å¼•æ•°ã‚’ã‚‚ã¨ã«ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’å‹•çš„ã«ç”Ÿæˆã™ã‚‹ã«ã¯ã€ `MaterialApp` ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•° `onGenerateRoute` ã‚’ä½¿ã†
* ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®åˆæœŸåŒ–ã¾ã§ã¯ä¸è¦ã§å˜ã«å¼•æ•°ã§æ¸¡ã—ãŸå€¤ã‚’é·ç§»å…ˆã®ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã—ãŸã„ã ã‘ã®å ´åˆã¯ã€ `build()` ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§ `ModalRoute.settings.arguments` ã‹ã‚‰å¼•æ•°ã‚’å—ã‘å–ã‚Œã‚‹
